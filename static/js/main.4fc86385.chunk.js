(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t){},152:function(e){e.exports={Auth:{userPoolId:"us-east-2_Nb73NmC0B",region:"us-east-2",userPoolWebClientId:"7nhio0tq9iof0qs8d59dfq2eug"},API:{endpoints:[{name:"Duel Masters API",endpoint:"https://v1tf2aoszi.execute-api.us-east-2.amazonaws.com/dev/"}]}}},278:function(e,t,a){e.exports=a.p+"static/media/dm_logo.605740b1.png"},280:function(e,t){},281:function(e,t,a){e.exports=a.p+"static/media/dm__icon.3bf9ba8e.png"},284:function(e,t,a){e.exports=a.p+"static/media/deck_case.9b7b9245.png"},285:function(e,t,a){e.exports=a.p+"static/media/dialog_background.c1ea59b6.gif"},289:function(e){e.exports={btnCancel:"Cancel",btnConfirm:"Confirm",btnCreateAccount:"Create Account",btnForgetPassword:"Forget Password?",btnGetNewPassword:"Get New Password",btnInsert:"Insert",btnRemove:"Remove",btnResendCode:"Resend Code",btnSignInInstead:"Sign In Instead",btnSignIn:"Sign In",btnSignUp:"Sign Up",titleCardGallery:"Card Gallery",titleCardDetail:"Card Detail",titleDeckEditor:"Deck Editor",titleDeckManager:"Deck Manager",titleFilterOptions:"Filter Options",titleForgetPassword:"Forget Password",titleInsertCard:"Insert Card to Deck",titleLanguageSetting:"Langauges Setting",titleLogout:"Logout",titleNewDeck:"Create New Deck",titleProductGallery:"Product Gallery",titleRemoveDeck:"Remove Deck",titleRenameDeck:"Edit Deck Name",titleSignIn:"Sign In",titleSignUp:"Sign Up",titleVerifyForgetPs:"Enter New Password and Verification Code",titleVerifySignIn:"Enter Verification Code",txtBoosterPacks:"Booster Pack",txtCardType:"Card Type",txtCivilization:"Civilization",txtCost:"Cost",txtDeck:"Deck",txtDeckName:"Deck Name",txtDeckNamePrompt:"Please enter deck name",txtEmail:"Email",txtLogoutWarn:"Are you sure you want to log out?",txtMax:"Max",txtMin:"Min",txtPassword:"Password",txtPower:"Power",txtQuantity:"Quantity",txtRace:"Race",txtRarity:"Rarity",txtRemoveDeckWarn:"Are you sure you want to remove this deck?",txtSortCostHL:"Cost (High - Low)",txtSortCostLH:"Cost (Low - High)",txtSortDefault:"Default (Set Number)",txtSortPowerHL:"Power (High - Low)",txtSortPowerLH:"Power (Low - High)",txtStarterDecks:"Starter Deck",txtUsername:"Username",txtVerifyCode:"Verification Code",txtVerifyForgetPsCodePrompt:"Verification code will send to your email soon. Please enter the new password and the code in  below text field.",txtVerifySignInCodePrompt:"Verification code will send to your email soon. Please enter it in below text field."}},290:function(e){e.exports={btnCancel:"\u53d6\u6d88",btnConfirm:"\u78ba\u5b9a",btnCreateAccount:"\u8a3b\u518a",btnForgetPassword:"\u5fd8\u8a18\u5bc6\u78bc?",btnGetNewPassword:"\u7372\u53d6\u65b0\u5bc6\u78bc",btnInsert:"\u52a0\u5165",btnRemove:"\u79fb\u9664",btnResendCode:"\u91cd\u767c\u9a57\u8b49\u78bc",btnSignInInstead:"\u8fd4\u56de\u767b\u9304",btnSignIn:"\u767b\u9304",btnSignUp:"\u8a3b\u518a",titleCardGallery:"\u5361\u724c\u4e00\u89bd",titleCardDetail:"\u5361\u724c\u8cc7\u6599",titleDeckEditor:"\u5361\u7d44\u7de8\u8f2f",titleDeckManager:"\u5361\u7d44\u7ba1\u7406",titleFilterOptions:"\u5361\u724c\u904e\u6ffe",titleForgetPassword:"\u5fa9\u539f\u5e33\u6236",titleInsertCard:"\u52a0\u5165\u5361\u7d44",titleLanguageSetting:"\u8a9e\u8a00",titleLogout:"\u767b\u51fa",titleNewDeck:"\u65b0\u589e\u5361\u7d44",titleProductGallery:"\u5546\u54c1\u4e00\u89bd",titleRemoveDeck:"\u5361\u7d44\u79fb\u9664",titleRenameDeck:"\u5361\u7d44\u6539\u540d",titleSignIn:"\u767b\u9304",titleSignUp:"\u8a3b\u518a",titleVerifyForgetPs:"\u8f38\u5165\u65b0\u5bc6\u78bc\u548c\u9a57\u8b49\u78bc",titleVerifySignIn:"\u8f38\u5165\u9a57\u8b49\u78bc",txtBoosterPacks:"\u88dc\u5145\u5305",txtCardType:"\u5361\u724c\u7a2e\u985e",txtCivilization:"\u6587\u660e",txtCost:"\u53ec\u559a\u503c",txtDeck:"\u5361\u7d44",txtDeckName:"\u5361\u7d44\u540d\u7a31",txtDeckNamePrompt:"\u8acb\u8f38\u5165\u5361\u7d44\u540d\u7a31",txtEmail:"\u96fb\u5b50\u90f5\u4ef6",txtLogoutWarn:"\u78ba\u5b9a\u767b\u51fa?",txtMax:"\u4e0a\u9650",txtMin:"\u4e0b\u9650",txtPassword:"\u5bc6\u78bc",txtPower:"\u529b\u91cf\u503c",txtQuantity:"\u6578\u91cf",txtRace:"\u7a2e\u65cf",txtRarity:"\u7a00\u6709\u5ea6",txtRemoveDeckWarn:"\u78ba\u5b9a\u79fb\u9664\u6b64\u5361\u7d44?",txtSortCostHL:"\u53ec\u559a\u503c (\u7531\u9ad8\u81f3\u4f4e)",txtSortCostLH:"\u53ec\u559a\u503c (\u7531\u4f4e\u81f3\u9ad8)",txtSortDefault:"\u9810\u8a2d",txtSortPowerHL:"\u529b\u91cf\u503c (\u7531\u9ad8\u81f3\u4f4e)",txtSortPowerLH:"\u529b\u91cf\u503c (\u7531\u4f4e\u81f3\u9ad8)",txtStarterDecks:"\u57fa\u672c\u5361\u7d44",txtUsername:"\u7528\u6236\u540d",txtVerifyCode:"\u9a57\u8b49\u78bc",txtVerifyForgetPsCodePrompt:"\u9a57\u8b49\u78bc\u5c07\u9001\u5f80\u8a3b\u518a\u96fb\u90f5, \u8acb\u8f38\u5165\u65b0\u5bc6\u78bc\u548c\u9a57\u8b49\u78bc",txtVerifySignInCodePrompt:"\u9a57\u8b49\u78bc\u5c07\u9001\u5f80\u8a3b\u518a\u96fb\u90f5, \u8acb\u8f38\u5165\u9a57\u8b49\u78bc"}},291:function(e){e.exports={btnCancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",btnConfirm:"\u78ba\u8a8d",btnCreateAccount:"\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332",btnForgetPassword:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u5fd8\u308c\u305f",btnGetNewPassword:"\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u53d6\u5f97",btnInsert:"\u8ffd\u52a0",btnRemove:"\u524a\u9664",btnResendCode:"\u30b3\u30fc\u30c9\u3092\u518d\u9001\u4fe1",btnSignInInstead:"\u30b5\u30a4\u30f3\u30a4\u30f3",btnSignIn:"\u30b5\u30a4\u30f3\u30a4\u30f3",btnSignUp:"\u767b\u9332",titleCardGallery:"\u30ab\u30fc\u30c9\u30ea\u30b9\u30c8",titleCardDetail:"\u30ab\u30fc\u30c9\u8a73\u7d30",titleDeckEditor:"\u30c7\u30c3\u30ad\u7de8\u96c6",titleDeckManager:"\u30c7\u30c3\u30ad\u9078\u629e",titleFilterOptions:"\u7d5e\u308a\u8fbc\u307f",titleForgetPassword:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u5fd8\u308c\u305f\u5834\u5408",titleInsertCard:"\u30ab\u30fc\u30c9\u8ffd\u52a0",titleLanguageSetting:"\u8a00\u8a9e\u8a2d\u5b9a",titleLogout:"\u30ed\u30b0\u30a2\u30a6\u30c8",titleNewDeck:"\u65b0\u898f\u30c7\u30c3\u30ad",titleProductGallery:"\u5546\u54c1\u4e00\u89a7",titleRemoveDeck:"\u30c7\u30c3\u30ad\u524a\u9664",titleRenameDeck:"\u30c7\u30c3\u30ad\u540d\u3092\u5909\u66f4",titleSignIn:"\u30b5\u30a4\u30f3\u30a4\u30f3",titleSignUp:"\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332",titleVerifyForgetPs:"\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u78ba\u8a8d\u30b3\u30fc\u30c9\u3092\u5165\u529b",titleVerifySignIn:"\u78ba\u8a8d\u30b3\u30fc\u30c9\u3092\u5165\u529b",txtBoosterPacks:"\u62e1\u5f35\u30d1\u30c3\u30af",txtCardType:"\u30ab\u30fc\u30c9\u30bf\u30a4\u30d7",txtCivilization:"\u6587\u660e",txtCost:"\u30b3\u30b9\u30c8",txtDeck:"\u30c7\u30c3\u30ad",txtDeckName:"\u30c7\u30c3\u30ad\u540d",txtDeckNamePrompt:"\u30c7\u30c3\u30ad\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",txtEmail:"\u96fb\u5b50\u30e1\u30fc\u30eb",txtLogoutWarn:"\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",txtMax:"\u6700\u5927",txtMin:"\u6700\u5c0f",txtPassword:"\u30d1\u30b9\u30ef\u30fc\u30c9",txtPower:"\u30d1\u30ef\u30fc",txtQuantity:"\u679a\u6570",txtRace:"\u7a2e\u65cf",txtRarity:"\u30ec\u30a2\u30ea\u30c6\u30a3",txtRemoveDeckWarn:"\u30c7\u30c3\u30ad\u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",txtSortCostHL:"\u30b3\u30b9\u30c8\u306e\u9ad8\u3044\u9806\u756a",txtSortCostLH:"\u30b3\u30b9\u30c8\u306e\u4f4e\u3044\u9806\u756a",txtSortDefault:"\u30c7\u30d5\u30a9\u30eb\u30c8",txtSortPowerHL:"\u30d1\u30ef\u30fc\u306e\u9ad8\u3044\u9806\u756a",txtSortPowerLH:"\u30d1\u30ef\u30fc\u306e\u4f4e\u3044\u9806\u756a",txtStarterDecks:"\u69cb\u7bc9\u6e08\u307f\u30c7\u30c3\u30ad",txtUsername:"\u30e6\u30fc\u30b6\u30fc\u540d",txtVerifyCode:"\u78ba\u8a8d\u30b3\u30fc\u30c9",txtVerifyForgetPsCodePrompt:"\u78ba\u8a8d\u30b3\u30fc\u30c9\u306f\u30e1\u30fc\u30eb\u306b\u78ba\u8a8d\u3057\u3066\u3001\u65b0\u3057\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u78ba\u8a8d\u30b3\u30fc\u30c9\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",txtVerifySignInCodePrompt:"\u78ba\u8a8d\u30b3\u30fc\u30c9\u306f\u30e1\u30fc\u30eb\u306b\u78ba\u8a8d\u3057\u3066\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}},293:function(e){e.exports={palette:{primary:{light:"#2F3D45",main:"#232E33",dark:"#263238",contrastText:"#eeeeee"},secondary:{light:"#66ffa6",main:"#00e676",dark:"#00b248",contrastText:"#eeeeee"}},typography:{fontFamily:["Roboto","Arial"],useNextVariants:!0},overrides:{MuiButton:{textPrimary:{color:"#eeeeee"}},MuiTypography:{colorTextPrimary:{color:"#eeeeee"},colorTextSecondary:{color:"#263238"}},MuiInput:{underline:{"&:after":{"border-bottom":"2px solid #263238"}}},MuiInputLabel:{formControl:{color:"#263238"}},MuiAppBar:{colorPrimary:{"background-color":"#424242"}},MuiDrawer:{paper:{"background-color":"#424242"}},MuiMenuItem:{root:{color:"#263238"}},MuiCardHeader:{title:{color:"#263238"},content:{color:"#263238"}},MuiIconButton:{colorPrimary:{color:"#eeeeee"},colorSecondary:{color:"#263238"}},MuiSvgIcon:{colorPrimary:{color:"#eeeeee"},colorSecondary:{color:"#263238"}},MuiFab:{primary:{"background-color":"#263238"}},MuiLinearProgress:{colorPrimary:{"background-color":"#00b248"},barColorPrimary:{"background-color":"#00e676"}},MuiCheckbox:{colorPrimary:{color:"#263238"}}}}},43:function(e){e.exports={cloudfrontImageLink:"https://d24enp9s7e5j3d.cloudfront.net/",dmCardImageLink:"https://dm.takaratomy.co.jp/wp-content/card/cardimage/"}},5548:function(e,t,a){e.exports=a(5920)},5553:function(e,t,a){},5799:function(e,t){},5805:function(e,t){},5917:function(e,t,a){},5920:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(40),i=a.n(o),c=(a(5553),a(10)),l=a(5925),s=a(5927),u=a(5924),d=a(16),m=a(17),g=a(19),p=a(18),h=a(20),E=a(150),f=a.n(E),b=a(277),C=a(278),w=a.n(C),y=a(71),x=a.n(y),k=a(25),v=a.n(k),D=a(51),S=a.n(D);var I=Object(c.withStyles)({root:{backgroundColor:"rgba(255, 255, 255, 0.2)",padding:"30px"}})(function(e){var t=e.classes,a=e.children;return n.a.createElement(S.a,{classes:{root:t.root},elevation:1},a)}),M=a(21),P=a(4),O=a(31),j=a.n(O),L=a(1),N=a(9),T=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).handleTextChange=function(e){a.setState(Object(M.a)({},e.target.id,e.target.value))},a.handleClickShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.clearError=function(e){"email"===e.target.id?a.setState({emailErrorMsg:""}):"password"===e.target.id&&a.setState({passwordErrorMsg:""})},a.state={email:"",emailErrorMsg:"",password:"",passwordErrorMsg:"",showPassword:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.errObject;t&&t!==e.errObject&&("Username cannot be empty"===t?this.setState({emailErrorMsg:"Email cannot be empty"}):"UserNotFoundException"===t.code?this.setState({emailErrorMsg:"Email does not exist"}):"UserNotConfirmedException"===t.code?this.setState({emailErrorMsg:"Account is not confirmed"}):"NotAuthorizedException"===t.code?this.setState({passwordErrorMsg:"Incorrect password"}):"UnexpectedLambdaException"===t.code?this.setState({passwordErrorMsg:"Password cannot be empty"}):this.setState({emailErrorMsg:t.message}))}},{key:"render",value:function(){var e=this;return n.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.props.awsSignIn(e.state.email,e.state.password)}},n.a.createElement(L.r,{container:!0,direction:"column",spacing:16},n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0},n.a.createElement(j.a,{variant:"h5",color:"textPrimary"},n.a.createElement(P.a,{id:"titleSignIn"})))),n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0,alignItems:"flex-end"},n.a.createElement(L.r,{item:!0,xs:2},n.a.createElement(N.a,{color:"primary"})),n.a.createElement(L.r,{item:!0,xs:10},n.a.createElement(L.I,{id:"email",label:n.a.createElement(P.a,{id:"txtEmail"}),type:"email",value:this.state.email,error:""!==this.state.emailErrorMsg,helperText:this.state.emailErrorMsg,fullWidth:!0,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)}})))),n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0,alignItems:"flex-end"},n.a.createElement(L.r,{item:!0,xs:2},n.a.createElement(N.n,{color:"primary"})),n.a.createElement(L.r,{item:!0,xs:10},n.a.createElement(L.m,{fullWidth:!0,error:""!==this.state.passwordErrorMsg},n.a.createElement(L.v,{htmlFor:"password"},n.a.createElement(P.a,{id:"txtPassword"})),n.a.createElement(L.t,{id:"password",type:this.state.showPassword?"text":"password",value:this.state.password,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)},endAdornment:n.a.createElement(L.u,{position:"end"},n.a.createElement(L.s,{"aria-label":"Toggle password visibility",onClick:this.handleClickShowPassword},this.state.showPassword?n.a.createElement(N.s,null):n.a.createElement(N.t,null)))}),""!==this.state.passwordErrorMsg&&n.a.createElement(L.p,null,this.state.passwordErrorMsg))))),n.a.createElement(L.r,{item:!0,xs:12},n.a.createElement(L.b,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0},n.a.createElement(P.a,{id:"btnSignIn"}))),n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0,justify:"center",alignItems:"center"},n.a.createElement(L.r,{item:!0},n.a.createElement(L.b,{color:"primary",onClick:function(){return e.props.changeState("forgetPassword")}},n.a.createElement(P.a,{id:"btnForgetPassword"}))),n.a.createElement(L.r,{item:!0},n.a.createElement(L.b,{color:"primary",onClick:function(){return e.props.changeState("signUp")}},n.a.createElement(P.a,{id:"btnCreateAccount"})))))))}}]),t}(r.Component),A=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).handleTextChange=function(e){a.setState(Object(M.a)({},e.target.id,e.target.value))},a.handleClickShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.clearError=function(e){"email"===e.target.id?a.setState({emailErrorMsg:""}):"username"===e.target.id?a.setState({usernameErrorMsg:""}):"password"===e.target.id&&a.setState({passwordErrorMsg:""})},a.state={email:"",emailErrorMsg:"",username:"",usernameErrorMsg:"",password:"",passwordErrorMsg:"",showPassword:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.errObject;t&&t!==e.errObject&&("EmptyUserException"===t.code?this.setState({usernameErrorMsg:"Username cannot be empty"}):"Username cannot be empty"===t?this.setState({emailErrorMsg:"Email cannot be empty"}):"UsernameExistsException"===t.code?this.setState({emailErrorMsg:"Email already in used"}):"InvalidParameterException"===t.code&&t.message.includes("Invalid email")?this.setState({emailErrorMsg:"Invalid email address format."}):"Password cannot be empty"===t?this.setState({passwordErrorMsg:"Password cannot be empty"}):t.message.includes("equal to 6")||t.message.includes("long enough")?this.setState({passwordErrorMsg:"Password must be at least 8 characters"}):"InvalidPasswordException"===t.code&&t.message.includes("uppercase")?this.setState({passwordErrorMsg:"Password must have uppercase characters"}):"InvalidPasswordException"===t.code&&t.message.includes("lowercase")?this.setState({passwordErrorMsg:"Password must have lowercase characters"}):"InvalidPasswordException"===t.code&&t.message.includes("numeric ")?this.setState({passwordErrorMsg:"Password must have numeric characters"}):"InvalidPasswordException"===t.code&&t.message.includes("symbol ")?this.setState({passwordErrorMsg:"Password must have symbol characters"}):this.setState({emailErrorMsg:t.message}))}},{key:"render",value:function(){var e=this;return n.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.props.awsSignUp(e.state.email,e.state.username,e.state.password)}},n.a.createElement(L.r,{container:!0,direction:"column",spacing:16},n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0},n.a.createElement(j.a,{variant:"h5",color:"textPrimary"},n.a.createElement(P.a,{id:"titleSignUp"})))),n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0,alignItems:"flex-end"},n.a.createElement(L.r,{item:!0,xs:2},n.a.createElement(N.k,{color:"primary"})),n.a.createElement(L.r,{item:!0,xs:10},n.a.createElement(L.I,{id:"email",label:n.a.createElement(P.a,{id:"txtEmail"}),type:"email",value:this.state.email,error:""!==this.state.emailErrorMsg,helperText:this.state.emailErrorMsg,fullWidth:!0,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)}})))),n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0,alignItems:"flex-end"},n.a.createElement(L.r,{item:!0,xs:2},n.a.createElement(N.a,{color:"primary"})),n.a.createElement(L.r,{item:!0,xs:10},n.a.createElement(L.I,{id:"username",label:n.a.createElement(P.a,{id:"txtUsername"}),type:"text",value:this.state.username,error:""!==this.state.usernameErrorMsg,helperText:this.state.usernameErrorMsg,fullWidth:!0,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)}})))),n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0,alignItems:"flex-end"},n.a.createElement(L.r,{item:!0,xs:2},n.a.createElement(N.n,{color:"primary"})),n.a.createElement(L.r,{item:!0,xs:10},n.a.createElement(L.m,{fullWidth:!0,error:""!==this.state.passwordErrorMsg},n.a.createElement(L.v,{htmlFor:"password"},n.a.createElement(P.a,{id:"txtPassword"})),n.a.createElement(L.t,{id:"password",type:this.state.showPassword?"text":"password",value:this.state.password,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)},endAdornment:n.a.createElement(L.u,{position:"end"},n.a.createElement(L.s,{"aria-label":"Toggle password visibility",onClick:this.handleClickShowPassword},this.state.showPassword?n.a.createElement(N.s,null):n.a.createElement(N.t,null)))}),""!==this.state.passwordErrorMsg&&n.a.createElement(L.p,null,this.state.passwordErrorMsg))))),n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0},n.a.createElement(L.r,{item:!0,xs:12},n.a.createElement(L.b,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0},n.a.createElement(P.a,{id:"titleSignUp"}))))),n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0,justify:"center",alignItems:"center"},n.a.createElement(L.r,{item:!0},n.a.createElement(L.b,{color:"primary",onClick:function(){return e.props.changeState("signIn")}},n.a.createElement(P.a,{id:"btnSignInInstead"})))))))}}]),t}(r.Component),R=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).clearError=function(e){a.setState({emailErrorMsg:""})},a.state={email:"",emailErrorMsg:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.errObject;t&&t!==e.errObject&&("Username cannot be empty"===t?this.setState({emailErrorMsg:"Email cannot be empty"}):"UserNotFoundException"===t.code?this.setState({emailErrorMsg:"Email does not exist"}):this.setState({emailErrorMsg:t.message}))}},{key:"handleTextChange",value:function(e){this.setState(Object(M.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){var e=this;return n.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.props.awsForgetPassword(e.state.email)}},n.a.createElement(L.r,{container:!0,direction:"column",spacing:16},n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0},n.a.createElement(j.a,{variant:"h5",color:"textPrimary"},n.a.createElement(P.a,{id:"titleForgetPassword"})))),n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0,alignItems:"flex-end"},n.a.createElement(L.r,{item:!0,xs:2},n.a.createElement(N.a,{color:"primary"})),n.a.createElement(L.r,{item:!0,xs:10},n.a.createElement(L.I,{id:"email",label:n.a.createElement(P.a,{id:"txtEmail"}),type:"email",value:this.state.email,error:""!==this.state.emailErrorMsg,helperText:this.state.emailErrorMsg,fullWidth:!0,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)}})))),n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0},n.a.createElement(L.r,{item:!0,xs:12},n.a.createElement(L.b,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0},n.a.createElement(P.a,{id:"btnGetNewPassword"}))))),n.a.createElement(L.r,{item:!0},n.a.createElement(L.r,{container:!0,justify:"center",alignItems:"center"},n.a.createElement(L.r,{item:!0},n.a.createElement(L.b,{color:"primary",onClick:function(){return e.props.changeState("signIn")}},n.a.createElement(P.a,{id:"btnSignInInstead"})))))))}}]),t}(r.Component),F=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).clearError=function(e){a.setState({codeErrorMsg:""})},a.handleClose=function(){a.setState({password:"",passwordErrorMsg:"",code:"",codeErrorMsg:"",showPassword:!1})},a.state={code:"",codeErrorMsg:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.errObject;t&&t!==e.errObject&&(this.setState({codeErrorMsg:"Invalid verification code provided, please try again"}),"Code cannot be empty"===t?this.setState({codeErrorMsg:"Code cannot be empty"}):"CodeMismatchException"===t.code?this.setState({codeErrorMsg:"Invalid verification code provided, please try again"}):this.setState({codeErrorMsg:t.message}))}},{key:"handleTextChange",value:function(e){this.setState({code:e.target.value})}},{key:"render",value:function(){var e=this;return n.a.createElement(L.e,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:this.props.open,onExit:function(){return e.handleClose()},"aria-labelledby":"form-dialog-title"},n.a.createElement(L.i,{id:"form-dialog-title"},n.a.createElement(P.a,{id:"titleVerifySignIn"})),n.a.createElement(L.g,null,n.a.createElement(L.h,null,n.a.createElement(P.a,{id:"txtVerifySignInCodePrompt"})),n.a.createElement(L.I,{autoFocus:!0,label:n.a.createElement(P.a,{id:"txtVerifyCode"}),value:this.state.code,error:""!==this.state.codeErrorMsg,helperText:this.state.codeErrorMsg,fullWidth:!0,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)}})),n.a.createElement(L.f,null,n.a.createElement(L.b,{onClick:function(){return e.props.awsResendCode()}},n.a.createElement(P.a,{id:"btnResendCode"})),n.a.createElement(L.b,{onClick:function(){return e.props.awsVerifyCode(e.state.code)}},n.a.createElement(P.a,{id:"btnConfirm"}))))}}]),t}(r.Component),_=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).handleClickShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.clearError=function(e){"password"===e.target.id?a.setState({passwordErrorMsg:""}):"code"===e.target.id&&a.setState({codeErrorMsg:""})},a.handleClose=function(){a.setState({password:"",passwordErrorMsg:"",code:"",codeErrorMsg:"",showPassword:!1})},a.state={password:"",passwordErrorMsg:"",code:"",codeErrorMsg:"",showPassword:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.errObject;t&&t!==e.errObject&&("Code cannot be empty"===t?this.setState({codeErrorMsg:"Code cannot be empty"}):"CodeMismatchException"===t.code?this.setState({codeErrorMsg:"Invalid verification code provided, please try again."}):"Password cannot be empty"===t?this.setState({passwordErrorMsg:"Password cannot be empty"}):t.message.includes("equal to 6")||t.message.includes("long enough")?this.setState({passwordErrorMsg:"Password length must at least has 8 characters"}):"InvalidPasswordException"===t.code&&t.message.includes("uppercase")?this.setState({passwordErrorMsg:"Password must have uppercase characters"}):"InvalidPasswordException"===t.code&&t.message.includes("lowercase")?this.setState({passwordErrorMsg:"Password must have lowercase characters"}):"InvalidPasswordException"===t.code&&t.message.includes("numeric ")?this.setState({passwordErrorMsg:"Password must have numeric characters"}):"InvalidPasswordException"===t.code&&t.message.includes("symbol ")?this.setState({passwordErrorMsg:"Password must have symbol characters"}):this.setState({codeErrorMsg:t.message}))}},{key:"handleTextChange",value:function(e){this.setState(Object(M.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){var e=this;return n.a.createElement(L.e,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:this.props.open,onExit:function(){return e.handleClose()},"aria-labelledby":"form-dialog-title"},n.a.createElement(L.i,{id:"form-dialog-title"},n.a.createElement(P.a,{id:"titleVerifyForgetPs"})),n.a.createElement(L.g,null,n.a.createElement(L.h,null,n.a.createElement(P.a,{id:"txtVerifyForgetPsCodePrompt"})),n.a.createElement(L.r,{container:!0,spacing:16},n.a.createElement(L.r,{item:!0,xs:12,lg:6},n.a.createElement(L.m,{fullWidth:!0,error:""!==this.state.passwordErrorMsg},n.a.createElement(L.v,{htmlFor:"password"},n.a.createElement(P.a,{id:"txtPassword"})),n.a.createElement(L.t,{id:"password",type:this.state.showPassword?"text":"password",value:this.state.password,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)},endAdornment:n.a.createElement(L.u,{position:"end"},n.a.createElement(L.s,{"aria-label":"Toggle password visibility",onClick:this.handleClickShowPassword},this.state.showPassword?n.a.createElement(N.s,null):n.a.createElement(N.t,null)))}),""!==this.state.passwordErrorMsg&&n.a.createElement(L.p,null,this.state.passwordErrorMsg))),n.a.createElement(L.r,{item:!0,xs:12,lg:6},n.a.createElement(L.I,{id:"code",label:n.a.createElement(P.a,{id:"txtVerifyCode"}),value:this.state.code,error:""!==this.state.codeErrorMsg,helperText:this.state.codeErrorMsg,fullWidth:!0,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)}})))),n.a.createElement(L.f,null,n.a.createElement(L.b,{onClick:function(){return e.props.awsVerifyPasswordCode(e.state.password,e.state.code)}},n.a.createElement(P.a,{id:"btnConfirm"}))))}}]),t}(r.Component),U=a(5922),B=a(152);B.API.endpoints[0].custom_header=Object(b.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.Auth.currentSession();case 2:return t=e.sent.idToken.jwtToken,e.abrupt("return",{Authorization:t});case 4:case"end":return e.stop()}},e,this)})),v.a.configure(B);var V=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).signIn=function(e,t){k.Auth.signIn(e,t).then(function(e){a.props.history.push("/")}).catch(function(e){a.setState({childError:e})})},a.signUp=function(e,t,r){0===t.trim().length?a.setState({childError:{code:"EmptyUserException"}}):k.Auth.signUp({username:e,password:r,attributes:{email:e,name:t}}).then(function(e){a.setState({authuser:e.user,showVerifCodeDialog:!0})}).catch(function(e){a.setState({childError:e})})},a.forgetPassword=function(e){k.Auth.forgotPassword(e).then(function(t){a.setState({forgetPsEmail:e,showVerifPasswordCodeDialog:!0})}).catch(function(e){return a.setState({childError:e})})},a.resentSignUpCode=function(){k.Auth.resendSignUp(a.state.authuser.username).catch(function(e){return a.setState({verificationSignInError:e})})},a.verifySignUpCode=function(e){k.Auth.confirmSignUp(a.state.authuser.username,e).then(function(e){a.setState({showVerifCodeDialog:!1}),a.props.history.push("/")}).catch(function(e){return a.setState({verificationSignInError:e})})},a.verifyForgetPasswordCode=function(e,t){k.Auth.forgotPasswordSubmit(a.state.forgetPsEmail,t,e).then(function(e){a.setState({showVerifPasswordCodeDialog:!1,authState:"signIn"}),a.changeState("signIn")}).catch(function(e){return a.setState({verificationForgetPsError:e})})},a.changeState=function(e){a.setState({authState:e})},a.state={authState:"signIn",authUser:null,childError:null,verificationSignInError:null,verificationForgetPsError:null,forgetPsEmail:"",showVerifCodeDialog:!1,showVerifPasswordCodeDialog:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"DmAuthenticator"},n.a.createElement(x.a,{container:!0,className:"Fullpage-container",direction:"column",alignItems:"center",justify:"center"},n.a.createElement(x.a,{item:!0,xs:12,xl:4},n.a.createElement("img",{src:w.a,className:"Login-logo",alt:"logo"})),n.a.createElement(x.a,{item:!0,xs:10},n.a.createElement(I,null,function(e){switch(e.state.authState){case"signIn":return n.a.createElement(T,{changeState:e.changeState,awsSignIn:e.signIn,errObject:e.state.childError});case"signUp":return n.a.createElement(A,{changeState:e.changeState,awsSignUp:e.signUp,errObject:e.state.childError});case"forgetPassword":return n.a.createElement(R,{changeState:e.changeState,awsForgetPassword:e.forgetPassword,errObject:e.state.childError});default:return null}}(this)))),n.a.createElement(F,{open:this.state.showVerifCodeDialog,awsVerifyCode:this.verifySignUpCode,awsResendCode:this.resentSignUpCode,errObject:this.state.verificationSignInError}),n.a.createElement(_,{open:this.state.showVerifPasswordCodeDialog,awsVerifyPasswordCode:this.verifyForgetPasswordCode,errObject:this.state.verificationForgetPsError}))}}]),t}(r.Component),G=Object(U.a)(V),W=a(294),H=a(5926),z=(a(5917),a(5923)),q=a(281),K=a.n(q);var J=function(e){return n.a.createElement("div",{id:"sidenav"},n.a.createElement("div",{id:"topSideNav"},n.a.createElement("img",{alt:"DM",src:K.a,id:"dmIcon"}),n.a.createElement("hr",null),n.a.createElement(z.a,{to:"/deckManager"},n.a.createElement(L.K,{title:n.a.createElement(P.a,{id:"titleDeckManager"}),placement:"right"},n.a.createElement(L.s,{color:"primary"},n.a.createElement(N.u,null)))),n.a.createElement(z.a,{to:"/productGallery"},n.a.createElement(L.K,{title:n.a.createElement(P.a,{id:"titleProductGallery"}),placement:"right"},n.a.createElement(L.s,{color:"primary"},n.a.createElement(N.g,null))))),n.a.createElement("div",{id:"bottomSideNav"},n.a.createElement(L.K,{title:n.a.createElement(P.a,{id:"titleLanguageSetting"}),placement:"right"},n.a.createElement(L.s,{color:"primary",onClick:function(t){return e.showLanguageMenu(t)}},n.a.createElement(N.m,null))),n.a.createElement(L.K,{title:n.a.createElement(P.a,{id:"titleLogout"}),placement:"right"},n.a.createElement(L.s,{color:"primary",onClick:function(){return e.showConfirmDialog()}},n.a.createElement(N.p,null)))))},Q=function(e){var t=e.open,a=e.closeDialog,r=e.dialogTitle,o=e.dialogMessage,i=e.submitAction,c=e.submitButtonText;return n.a.createElement(L.e,{open:t,"aria-labelledby":"logout-dialog-title","aria-describedby":"logout-dialog-description"},n.a.createElement(L.i,{id:"logout-dialog-title"},r),n.a.createElement(L.g,null,n.a.createElement(L.h,{id:"logout-dialog-description"},o)),n.a.createElement(L.f,null,n.a.createElement(L.b,{onClick:function(){return a()}},n.a.createElement(P.a,{id:"btnCancel"})),n.a.createElement(L.b,{onClick:function(){return i()},autoFocus:!0},c)))},Y=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).signOut=function(){k.Auth.signOut().then(function(e){a.setState({showConfirmDialog:!1}),a.props.history.push("/auth")}).catch(function(e){return console.log(e)})},a.toggleDrawer=function(e){return function(){a.setState({showDrawer:e})}},a.state={languageMenuAnchorEl:null,showConfirmDialog:!1,showDrawer:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.mainComponent,r=t.classes,o=t.titleId,i=t.changeLanguage,c=this.state,l=c.languageMenuAnchorEl,s=c.showConfirmDialog,u=c.showDrawer;return n.a.createElement("div",null,n.a.createElement(J,{showConfirmDialog:function(){return e.setState({showConfirmDialog:!0})},showLanguageMenu:function(t){return e.setState({languageMenuAnchorEl:t.currentTarget})}}),n.a.createElement("div",{className:r.root},n.a.createElement(L.a,{position:"fixed",color:"primary",className:r.mobileMenu},n.a.createElement(L.J,null,n.a.createElement(L.s,{className:r.menuButton,color:"primary","aria-label":"Menu",onClick:this.toggleDrawer(!0)},n.a.createElement(N.o,null)),n.a.createElement(j.a,{variant:"h6",color:"inherit",className:r.grow},n.a.createElement(P.a,{id:o})),n.a.createElement(L.s,{color:"primary",onClick:function(t){return e.setState({languageMenuAnchorEl:t.currentTarget})}},n.a.createElement(N.m,null)),n.a.createElement(L.s,{color:"primary",onClick:function(){return e.setState({showConfirmDialog:!0})}},n.a.createElement(N.p,null)))),n.a.createElement("div",{className:r.componentWrapper},n.a.createElement("div",null,n.a.createElement(j.a,{variant:"h3",color:"textPrimary",className:r.compName,gutterBottom:!0},n.a.createElement(P.a,{id:o})),n.a.createElement(a,null)))),n.a.createElement(Q,{open:s,dialogTitle:n.a.createElement(P.a,{id:"titleLogout"}),dialogMessage:n.a.createElement(P.a,{id:"txtLogoutWarn"}),closeDialog:function(){return e.setState({showConfirmDialog:!1})},submitButtonText:n.a.createElement(P.a,{id:"titleLogout"}),submitAction:this.signOut}),n.a.createElement(L.B,{id:"langaugeMenu",anchorEl:l,open:Boolean(l),anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:function(){return e.setState({languageMenuAnchorEl:null})}},n.a.createElement(L.C,{onClick:function(){localStorage.setItem("langCode","en"),i("en"),e.setState({languageMenuAnchorEl:null})}},"English"),n.a.createElement(L.C,{onClick:function(){localStorage.setItem("langCode","zh"),i("zh"),e.setState({languageMenuAnchorEl:null})}},"\u7e41\u9ad4\u4e2d\u6587"),n.a.createElement(L.C,{onClick:function(){localStorage.setItem("langCode","ja"),i("ja"),e.setState({languageMenuAnchorEl:null})}},"\u65e5\u672c\u8a9e")),n.a.createElement(L.k,{anchor:"left",open:u,onClose:this.toggleDrawer(!1)},n.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer(!1),onKeyDown:this.toggleDrawer(!1)},n.a.createElement(L.x,null,n.a.createElement(z.a,{to:"/deckManager"},n.a.createElement(L.y,null,n.a.createElement(L.z,null,n.a.createElement(N.u,null)),n.a.createElement(L.A,{classes:{primary:r.drawerText},primary:n.a.createElement(P.a,{id:"titleDeckManager"})}))),n.a.createElement(z.a,{to:"/productGallery"},n.a.createElement(L.y,null,n.a.createElement(L.z,null,n.a.createElement(N.g,null)),n.a.createElement(L.A,{classes:{primary:r.drawerText},primary:n.a.createElement(P.a,{id:"titleProductGallery"})})))))))}}]),t}(r.Component),$=Object(U.a)(Object(c.withStyles)(function(e){var t;return Object(M.a)({root:(t={paddingTop:"56px",height:"97vh"},Object(M.a)(t,e.breakpoints.up("sm"),{marginLeft:"50px"}),Object(M.a)(t,e.breakpoints.up("md"),{marginLeft:"60px"}),t),compName:{display:"none"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},drawerText:{color:"#eeeeee"},componentWrapper:{padding:"10px"}},e.breakpoints.up("sm"),{root:{paddingTop:"0px"},compName:{display:"block"},mobileMenu:{display:"none"}})})(Y)),Z=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).state={shouldRender:!1,authUser:null},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.Auth.currentAuthenticatedUser().then(function(t){return e.setState({shouldRender:!0,authUser:t})}).catch(function(t){return e.props.history.push("/auth")}),this.unlisten=this.props.history.listen(function(){k.Auth.currentAuthenticatedUser().then(function(t){e.setState({shouldRender:!0,authUser:t})}).catch(function(t){e.setState({authUser:null})})})}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){var e=this.props,t=e.component,a=e.titleId,r=e.changeLanguage,o=Object(W.a)(e,["component","titleId","changeLanguage"]),i=this.state,c=i.shouldRender,l=i.authUser;return c?n.a.createElement(u.a,Object.assign({},o,{render:function(e){return null!==l?n.a.createElement($,Object.assign({authUser:l,mainComponent:t,titleId:a,changeLanguage:r},e)):n.a.createElement(H.a,{to:{pathname:"/auth"}})}})):null}}]),t}(r.Component),X=Object(U.a)(Z),ee=a(36);var te=Object(c.withStyles)(function(e){return{gridViewBox:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",padding:"10px",width:"inherit",height:"100%",overflowY:"auto",flexGrow:"1"}}})(function(e){var t=e.classes,a=e.children;return n.a.createElement(L.D,{className:t.gridViewBox},a)}),ae=a(284),re=a.n(ae);var ne=Object(c.withStyles)(function(e){return Object(M.a)({deckViewBox:{textAlign:"center",padding:"10px"},deckContent:{fontFamily:"Meiryo",fontWeight:"bold",fontSize:"14px",marginTop:"5px"},deckImage:{width:"100%",maxWidth:"100px",height:"auto"},deckDetailLink:{textDecoration:"none",color:"black",flexBasis:"100px","&:hover":{color:"#2bd5c6"}}},e.breakpoints.up("md"),{deckDetailLink:{flexBasis:"105px",border:"1px solid white","&:hover":{color:"#2bd5c6",border:"1px solid #2bd5c6",borderRadius:"5px"}}})})(function(e){var t=e.classes,a=e.deck;return n.a.createElement(z.a,{className:t.deckDetailLink,to:{pathname:"/deckEditor",state:{deckId:a._id}}},n.a.createElement("div",{className:t.deckViewBox},n.a.createElement("img",{src:re.a,className:t.deckImage}),n.a.createElement("div",{className:t.deckContent},a.name)))}),oe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).handleClose=function(){a.setState({deckName:""}),a.props.closeDialog()},a.submit=function(e){e.length>0?(a.props.handleDeckName(a.state.deckName),a.handleClose()):a.setState({codeErrorMsg:"Deck name cannot be empty"})},a.state={deckName:"",codeErrorMsg:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"handleTextChange",value:function(e){this.setState({deckName:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,r=t.titleId,o=this.state,i=o.deckName,c=o.codeErrorMsg;return n.a.createElement(L.e,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:a,onExit:function(){return e.handleClose()},"aria-labelledby":"form-dialog-title"},n.a.createElement(L.i,{id:"form-dialog-title"},n.a.createElement(P.a,{id:r})),n.a.createElement(L.g,null,n.a.createElement(L.h,null,n.a.createElement(P.a,{id:"txtDeckNamePrompt"})),n.a.createElement(L.I,{autoFocus:!0,label:n.a.createElement(P.a,{id:"txtDeckName"}),value:i,error:""!==c,helperText:c,fullWidth:!0,onChange:function(t){return e.handleTextChange(t)}})),n.a.createElement(L.f,null,n.a.createElement(L.b,{onClick:function(){return e.handleClose()}},n.a.createElement(P.a,{id:"btnCancel"})),n.a.createElement(L.b,{onClick:function(){return e.submit(i)}},n.a.createElement(P.a,{id:"btnConfirm"}))))}}]),t}(r.Component),ie="START_API_CALL",ce="FINISH_API_CALL",le="FINISH_API_ERR";function se(){return{type:ie}}function ue(){return{type:ce}}function de(e){return{type:le,message:e}}var me="RECEIVE_PLAYER_DECK_LIST",ge="RECEIVE_SINGLE_PLAYER_DECK",pe="RESET_DECK_LIST";function he(){return{type:pe}}function Ee(){return function(e){return e(se()),e(he()),k.Auth.currentAuthenticatedUser().then(function(t){return console.log(t),k.API.get("Duel Masters API","playerDecks/user/"+t.username).then(function(t){console.log(t),e(ue()),e({type:me,decks:t})}).catch(function(e){throw e})}).catch(function(e){return console.log(e)})}}function fe(e){return function(t){return t(se()),t(he()),k.API.get("Duel Masters API","playerDecks/"+e).then(function(e){console.log(e),t(ue()),t({type:ge,deck:e})}).catch(function(e){console.log(e)})}}var be=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).createDeck=function(e){a.props.createPlayerDeck(e),a.props.getPlayerDecks()},a.closeDeckNameDialog=function(){a.setState({showDeckNameDialog:!1})},a.state={showDeckNameDialog:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getPlayerDecks()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.dmDeckList,i=t.apiCallStatus;return n.a.createElement(r.Fragment,null,"started"===i&&n.a.createElement(L.w,null),n.a.createElement(te,null,o.map(function(e){return n.a.createElement(ne,{key:e._id,deck:e})})),n.a.createElement(L.l,{color:"primary",className:a.addFab,onClick:function(){return e.setState({showDeckNameDialog:!0})}},n.a.createElement(N.b,null)),n.a.createElement(oe,{open:this.state.showDeckNameDialog,titleId:"titleNewDeck",handleDeckName:this.createDeck,closeDialog:this.closeDeckNameDialog}))}}]),t}(r.Component),Ce=Object(ee.b)(function(e){return{dmDeckList:e.dmDeckList,apiCallStatus:e.uiEvents.apiCallStatus}},function(e){return{getPlayerDecks:function(){e(Ee())},createPlayerDeck:function(t){e(function(e){return function(t){return t(se()),k.Auth.currentAuthenticatedUser().then(function(a){console.log(a);var r={body:{name:e,userId:a.username}};return k.API.post("Duel Masters API","playerDecks/",r).then(function(e){console.log(e),t(ue())}).catch(function(e){throw e})}).catch(function(e){console.log(e),de("Error while inserting deck")})}}(t))}}})(Object(c.withStyles)(function(e){return{addFab:{position:"fixed",right:2*e.spacing.unit,bottom:2*e.spacing.unit},deleteFab:{position:"fixed",right:4*e.spacing.unit+56,bottom:2*e.spacing.unit}}})(be)),we=a(34),ye=a(5915),xe=a(70),ke=a.n(xe),ve=a(43),De=a(285),Se=a.n(De),Ie=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleDialogClose=function(){var e=a.props.handleClose;a.setState({deckId:"",quantity:0}),e()},a.submit=function(e,t){var r=a.props.insertCardsToDeck,n=a.state;r(n.deckId,{setId:e,setNumber:t,quantity:n.quantity})},a.state={deckId:"",quantity:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getPlayerDecks()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.open,o=t.card,i=t.handleClose,c=t.dmDeckList;return null===o?null:n.a.createElement(L.e,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:r,onExit:function(){return e.handleDialogClose()},"aria-labelledby":"form-dialog-title"},n.a.createElement(L.i,{id:"form-dialog-title"},n.a.createElement(P.a,{id:"titleInsertCard"})),n.a.createElement(L.g,null,n.a.createElement("div",{className:a.gridContainer},n.a.createElement("div",{className:a.gridItemImgContainer},n.a.createElement("img",{src:ve.dmCardImageLink+o.setId+"-"+o.setNumber+".jpg",className:a.cardImage})),n.a.createElement("div",{className:a.gridItemDetailContainer},n.a.createElement(L.r,{container:!0,spacing:8},n.a.createElement(L.r,{item:!0,xs:8,sm:12},n.a.createElement(L.m,{className:a.formControl},n.a.createElement(L.v,{htmlFor:"deckId-dropdown"},n.a.createElement(P.a,{id:"txtDeck"})),n.a.createElement(L.H,{value:this.state.deckId,onChange:this.handleChange,inputProps:{name:"deckId",id:"deckId-dropdown"}},c.map(function(e){return n.a.createElement(L.C,{key:e._id,value:e._id},e.name)})))),n.a.createElement(L.r,{item:!0,xs:4,sm:12},n.a.createElement(L.m,{className:a.formControl},n.a.createElement(L.v,{htmlFor:"quantity-dropdown"},n.a.createElement(P.a,{id:"txtQuantity"})),n.a.createElement(L.H,{value:this.state.quantity,onChange:this.handleChange,inputProps:{name:"quantity",id:"quantity-dropdown"}},n.a.createElement(L.C,{value:1},"1"),n.a.createElement(L.C,{value:2},"2"),n.a.createElement(L.C,{value:3},"3"),n.a.createElement(L.C,{value:4},"4")))))))),n.a.createElement(L.f,null,n.a.createElement(L.b,{onClick:function(){return i()}},n.a.createElement(P.a,{id:"btnCancel"})),n.a.createElement(L.b,{onClick:function(){e.submit(o.setId,o.setNumber),e.handleDialogClose()}},n.a.createElement(P.a,{id:"btnInsert"}))))}}]),t}(r.Component),Me=Object(ee.b)(function(e){return{dmDeckList:e.dmDeckList}},function(e){return{getPlayerDecks:function(){e(Ee())},insertCardsToDeck:function(t,a){e(function(e,t){var a={body:t};return function(t){return t(se()),k.API.put("Duel Masters API","insertCards/"+e,a).then(function(e){console.log(e),t(ue())}).catch(function(e){console.log(e),de("Error while udpating deck")})}}(t,a))}}})(Object(c.withStyles)(function(e){return Object(M.a)({dialogTitle:{display:"flex",alignItems:"center"},cardImage:{width:"215px"},grow:{flexGrow:1},gridContainer:{display:"grid",gridGap:"10px",marginTop:"10px"},gridItemImgContainer:{textAlign:"center"},gridItemDetailContainer:{fontFamily:"Meiryo"},effectList:{listStyleType:"square"},formControl:{width:"100%"}},e.breakpoints.up("sm"),{gridContainer:{gridTemplateColumns:"auto auto"},gridItemDetailContainer:{width:"200px"}})})(Ie)),Pe="SET_TARGET_CARD",Oe="OPEN_CARD_DETAIL_DIALOG",je="CLOSE_CARD_DETAIL_DIALOG",Le="OPEN_INSERT_CARD_DIALOG",Ne="CLOSE_INSERT_CARD_DIALOG",Te="OPEN_DECK_NAME_DIALOG",Ae="CLOSE_DECK_NAME_DIALOG",Re="OPEN_FILTER_DIALOG",Fe="CLOSE_FILTER_DIALOG";function _e(){return{type:je}}var Ue=Object(ee.b)(function(e){return{showDetailDialog:e.dmDialog.cardDetailDialog,showInsertDialog:e.dmDialog.insertCardDialog,card:e.dmDialog.targetCard}},function(e){return{closeCardDetailDialog:function(){e(_e())},openinsertCardDialog:function(){e({type:Le})},closeinsertCardDialog:function(){e({type:Ne})}}})(Object(c.withStyles)(function(e){return Object(M.a)({dialogTitleBar:{display:"flex",alignItems:"center",backgroundColor:"#263238"},dialogTitle:{color:"#eeeeee"},dialogContent:{backgroundImage:"url("+Se.a+")"},cardImage:{width:"215px"},civilImage:{height:"30px"},grow:{flexGrow:1},gridContainer:{display:"grid",gridGap:"10px",marginTop:"25px"},gridItemImgContainer:{textAlign:"center"},gridItemDetailContainer:{fontFamily:"Meiryo"},effectList:{listStyleType:"square"}},e.breakpoints.up("sm"),{gridContainer:{gridTemplateColumns:"auto auto"}})})(function(e){var t=e.classes,a=e.showDetailDialog,o=e.showInsertDialog,i=e.card,c=e.closeCardDetailDialog,l=e.openinsertCardDialog,s=e.closeinsertCardDialog,u=e.cardAction,d=e.rmCardAction;return null===i?null:n.a.createElement(r.Fragment,null,n.a.createElement(L.e,{open:a,onClose:function(){return c()}},n.a.createElement(ke.a,{disableTypography:!0,className:t.dialogTitleBar},n.a.createElement(j.a,{variant:"h6",className:t.dialogTitle},n.a.createElement(P.a,{id:"titleCardDetail"})),n.a.createElement("div",{className:t.grow}),"addToDeck"===u&&n.a.createElement(L.s,{color:"primary",onClick:function(){c(),l()}},n.a.createElement(N.d,null)),"rmFromDeck"===u&&n.a.createElement(L.s,{color:"primary",onClick:function(){return d(i)}},n.a.createElement(N.i,null)),n.a.createElement(L.s,{color:"primary",onClick:function(){return c()}},n.a.createElement(N.f,null))),n.a.createElement(L.g,{className:t.dialogContent},n.a.createElement("div",{className:t.gridContainer},n.a.createElement("div",{className:t.gridItemImgContainer},n.a.createElement("img",{src:ve.dmCardImageLink+i.setId+"-"+i.setNumber+".jpg",className:t.cardImage})),n.a.createElement("div",{className:t.gridItemDetailContainer},i.name," ",i.setId.toUpperCase()," ",i.setNumber,n.a.createElement("br",null),i.type," ",i.civilizations.map(function(e){return n.a.createElement("img",{src:ve.cloudfrontImageLink+"civilizations/"+e+".png",className:t.civilImage})}),n.a.createElement("img",{src:ve.cloudfrontImageLink+"rarity/"+i.rarityCd+".png"}),n.a.createElement("br",null),"\u30b3\u30b9\u30c8 ",i.cost," \u30de\u30ca ",i.mana," \u30d1\u30ef\u30fc ",void 0!==i.power&&i.power,n.a.createElement("br",null),void 0!==i.races&&i.races.map(function(e){return e}),n.a.createElement(L.j,{light:!0}),n.a.createElement("ul",{className:t.effectList},i.effects.map(function(e,t){return n.a.createElement("li",{key:i.setNumber+t},e)})))))),n.a.createElement(Me,{open:o,card:i,handleClose:function(){return s()}}))})),Be=a(7),Ve=a.n(Be);var Ge=Object(c.withStyles)(function(e){var t;return t={cardViewBox:{textAlign:"center",padding:"10px"},cardContent:{fontFamily:"Meiryo",fontWeight:"bold",fontSize:"10px",marginTop:"5px"},cardImage:{width:"100%",maxWidth:"130px",height:"auto"},cardDetailLink:{textDecoration:"none",color:"black",flexBasis:"85px","&:hover":{color:"#2bd5c6"}}},Object(M.a)(t,e.breakpoints.up("sm"),{cardDetailLink:{flexBasis:"115px"}}),Object(M.a)(t,e.breakpoints.up("md"),{cardContent:{fontSize:"13px"},cardDetailLink:{flexBasis:"145px",border:"1px solid white","&:hover":{border:"1px solid #2bd5c6",borderRadius:"5px"}}}),t})(function(e){var t=e.classes,a=e.card,r=e.handleClick;return n.a.createElement("div",{className:Ve()(t.cardViewBox,t.cardDetailLink),onClick:function(){return r(a)}},n.a.createElement("img",{src:ve.dmCardImageLink+a.setId+"-"+a.setNumber+".jpg",className:t.cardImage}),n.a.createElement("div",{className:t.cardContent},a.setId.toUpperCase()," - ",a.setNumber,n.a.createElement("br",null),a.name))}),We=a(59);var He=Object(c.withStyles)(function(e){return{checkBoxImg:{maxHeight:"20px",verticalAlign:"middle"}}})(function(e){var t=e.classes,a=e.control,r=e.imgLink;return n.a.createElement("span",null,a,n.a.createElement("img",{src:r,className:t.checkBoxImg}))});var ze=Object(c.withStyles)(function(e){return{selectFormControl:{width:"100%"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:e.spacing.unit/4}}})(function(e){var t=e.classes,a=e.controlLabel,r=e.name,o=e.valueList,i=e.selectList,c=e.handleSelectChange;return n.a.createElement(L.m,{className:t.selectFormControl},n.a.createElement(L.v,null,a),n.a.createElement(L.H,{multiple:!0,value:o,renderValue:function(e){return n.a.createElement("div",{className:t.chips},e.map(function(e,a){return n.a.createElement(L.d,{key:a,label:e,className:t.chip})}))}},i.map(function(e,t){return n.a.createElement(L.C,{key:t,value:e},n.a.createElement(L.c,{color:"primary",checked:o.includes(e),value:e,onChange:function(e,t){return c(r,e,t)}}),n.a.createElement(L.A,{primary:e}))})))}),qe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).handleSelectChange=function(e,t,r){r?a.setState(Object(M.a)({},e,[].concat(Object(We.a)(a.state[e]),[t.target.value]))):a.setState(Object(M.a)({},e,Object(We.a)(a.state[e]).filter(function(e){return e!==t.target.value})))},a.handleRangeChange=function(e){var t=a.state,r=t.filterCostRange,n=t.filterPowerRange,o=Number(e.target.value),i="Value cannot be negative",c="Max value cannot smaller min value";"costMin"===e.target.id?(a.setState({filterCostRange:[e.target.value,r[1]]}),o<0&&a.setState({costMinErrorMsg:i})):"costMax"===e.target.id?(a.setState({filterCostRange:[r[0],e.target.value]}),o<0?a.setState({costMaxErrorMsg:i}):""!==e.target.value&&o<Number(a.state.filterCostRange[0])&&a.setState({costMaxErrorMsg:c})):"powerMin"===e.target.id?(a.setState({filterPowerRange:[e.target.value,n[1]]}),o<0&&a.setState({powerMinErrorMsg:i})):"powerMax"===e.target.id&&(a.setState({filterPowerRange:[n[0],e.target.value]}),o<0?a.setState({powerMaxErrorMsg:i}):""!==e.target.value&&o<Number(a.state.filterPowerRange[0])&&a.setState({powerMaxErrorMsg:c}))},a.clearError=function(e){"costMin"===e.target.id?a.setState({costMinErrorMsg:""}):"costMax"===e.target.id?a.setState({costMaxErrorMsg:""}):"powerMin"===e.target.id?a.setState({powerMinErrorMsg:""}):"powerMax"===e.target.id&&a.setState({powerMaxErrorMsg:""})},a.handleOnClose=function(){var e=a.props,t=e.closeFilterDialog,r=e.handleFilterChange,n=a.state;n.costMinErrorMsg+n.costMaxErrorMsg+n.powerMinErrorMsg+n.powerMaxErrorMsg===""&&(r(a.state),t())},a.state=Object(we.a)({},e.filterOption,{costMinErrorMsg:"",costMaxErrorMsg:"",powerMinErrorMsg:"",powerMaxErrorMsg:""}),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.showFilterDialog,o=t.raceList,i=t.cardTypeList,c=this.state,l=c.filterRace,s=c.filterCardType,u=c.filterCivil,d=c.filterRarity,m=c.filterCostRange,g=c.filterPowerRange,p=c.costMinErrorMsg,h=c.costMaxErrorMsg,E=c.powerMinErrorMsg,f=c.powerMaxErrorMsg;return n.a.createElement(L.e,{open:r,onClose:function(){return e.handleOnClose()}},n.a.createElement(ke.a,{disableTypography:!0,className:a.dialogTitle},n.a.createElement(j.a,{variant:"h6"},n.a.createElement(P.a,{id:"titleFilterOptions"})),n.a.createElement("div",{className:a.grow}),n.a.createElement(L.s,{color:"secondary",onClick:function(){return e.handleOnClose()}},n.a.createElement(N.q,null))),n.a.createElement(L.g,null,n.a.createElement(L.r,{container:!0,spacing:24},n.a.createElement(L.r,{item:!0,xs:12,sm:7},n.a.createElement(ze,{controlLabel:n.a.createElement(P.a,{id:"txtRace"}),name:"filterRace",valueList:l,selectList:o,handleSelectChange:this.handleSelectChange})),n.a.createElement(L.r,{item:!0,xs:12,sm:5},n.a.createElement(ze,{controlLabel:n.a.createElement(P.a,{id:"txtCardType"}),name:"filterCardType",valueList:s,selectList:i,handleSelectChange:this.handleSelectChange})),n.a.createElement(L.r,{item:!0,xs:12},n.a.createElement(L.m,null,n.a.createElement(L.q,null,n.a.createElement(P.a,{id:"txtCivilization"})),n.a.createElement(L.o,{row:!0},["\u706b","\u6c34","\u81ea\u7136","\u5149","\u95c7"].map(function(t,a){return n.a.createElement(He,{key:a,control:n.a.createElement(L.c,{color:"primary",checked:u.includes(t),value:t,onChange:function(t,a){return e.handleSelectChange("filterCivil",t,a)}}),imgLink:ve.cloudfrontImageLink+"civilizations/"+t+".png"})})))),n.a.createElement(L.r,{item:!0,xs:12},n.a.createElement(L.m,null,n.a.createElement(L.q,null,n.a.createElement(P.a,{id:"txtRarity"})),n.a.createElement(L.o,{row:!0},["SR","VR","R","U","C"].map(function(t){return n.a.createElement(He,{key:t,control:n.a.createElement(L.c,{color:"primary",checked:d.includes(t),value:t,onChange:function(t,a){return e.handleSelectChange("filterRarity",t,a)}}),imgLink:ve.cloudfrontImageLink+"rarity/"+t+".png"})})))),n.a.createElement(L.r,{item:!0,xs:12},n.a.createElement(L.m,null,n.a.createElement(L.q,null,n.a.createElement(P.a,{id:"txtCost"})),n.a.createElement(L.o,{row:!0},n.a.createElement(L.I,{className:a.minMaxField,id:"costMin",label:n.a.createElement(P.a,{id:"txtMin"}),value:m[0],type:"number",error:""!==p,helperText:p,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleRangeChange(t)}}),n.a.createElement(L.I,{className:a.minMaxField,id:"costMax",label:n.a.createElement(P.a,{id:"txtMax"}),value:m[1],type:"number",error:""!==h,helperText:h,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleRangeChange(t)}})))),n.a.createElement(L.r,{item:!0,xs:12},n.a.createElement(L.m,null,n.a.createElement(L.q,null,n.a.createElement(P.a,{id:"txtPower"})),n.a.createElement(L.o,{row:!0},n.a.createElement(L.I,{className:a.minMaxField,id:"powerMin",label:n.a.createElement(P.a,{id:"txtMin"}),value:g[0],type:"number",error:""!==E,helperText:E,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleRangeChange(t)}}),n.a.createElement(L.I,{className:a.minMaxField,id:"powerMax",label:n.a.createElement(P.a,{id:"txtMax"}),value:g[1],type:"number",error:""!==f,helperText:f,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleRangeChange(t)}})))))))}}]),t}(r.Component),Ke=Object(ee.b)(function(e){return{showFilterDialog:e.dmDialog.filterDialog}},function(e){return{closeFilterDialog:function(){e({type:Fe})}}})(Object(c.withStyles)(function(e){return{dialogTitle:{display:"flex",alignItems:"center"},grow:{flexGrow:1},minMaxField:{margin:"5px 10px"}}})(qe)),Je=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.defaultSelect,r=e.sortMenuAnchorEl,o=e.handleSortMenuClose,i=e.handleSelectChange;return n.a.createElement(L.E,{id:"sortMenu",anchorEl:r,open:Boolean(r),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:function(){return o()}},n.a.createElement(L.m,{className:t.formControl},n.a.createElement(L.G,{name:"cardSortMenu",value:a,onChange:function(e){i(e.target.value),o()}},n.a.createElement(L.n,{value:"default",control:n.a.createElement(L.F,{classes:{root:t.radio,checked:t.checked}}),label:n.a.createElement(P.a,{id:"txtSortDefault"})}),n.a.createElement(L.n,{value:"costLH",control:n.a.createElement(L.F,{classes:{root:t.radio,checked:t.checked}}),label:n.a.createElement(P.a,{id:"txtSortCostLH"})}),n.a.createElement(L.n,{value:"costHL",control:n.a.createElement(L.F,{classes:{root:t.radio,checked:t.checked}}),label:n.a.createElement(P.a,{id:"txtSortCostHL"})}),n.a.createElement(L.n,{value:"powerLH",control:n.a.createElement(L.F,{classes:{root:t.radio,checked:t.checked}}),label:n.a.createElement(P.a,{id:"txtSortPowerLH"})}),n.a.createElement(L.n,{value:"powerHL",control:n.a.createElement(L.F,{classes:{root:t.radio,checked:t.checked}}),label:n.a.createElement(P.a,{id:"txtSortPowerHL"})}))))}}]),t}(r.Component),Qe=Object(c.withStyles)(function(e){return{formControl:{margin:3*e.spacing.unit},radio:{color:"#232E33","&$checked":{color:"#263238"}},checked:{}}})(Je);function Ye(e,t,a){switch(a){case"default":return e;case"costLH":return t.slice().sort(function(e,t){return e.cost-t.cost});case"costHL":return t.slice().sort(function(e,t){return t.cost-e.cost});case"powerLH":return t.slice().sort(function(e,t){return e.power-t.power});case"powerHL":return t.slice().sort(function(e,t){return t.power-e.power});default:return t}}var $e=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).getRaceList=function(e){if(0===e.length)return[];var t=[];return e.forEach(function(e){void 0!==e.races&&e.races.forEach(function(e){t.includes(e)||t.push(e)})}),t.sort()},a.getCardTypeList=function(e){if(0===e.length)return[];var t=[];return e.forEach(function(e){t.includes(e.type)||t.push(e.type)}),t},a.handleFilterChange=function(e){var t=a.state,r=t.originalCardList,n=t.sortOption,o=function(e,t){var a=function(e,t){return 0===t.length||t.includes(e)},r=function(e,t){if(0===t.length)return!0;if(void 0===e||0===e.length)return!1;var a;for(a=0;a<e.length;++a)if(t.includes(e[a]))return!0;return!1},n=function(e,t){return t[0]+t[1]===""||(""===t[0]?e<=Number(t[1]):""===t[1]?e>=Number(t[0]):e>=Number(t[0])&&e<=Number(t[1]))};return e.filter(function(e){return a(e.type,t.filterCardType)}).filter(function(e){return a(e.rarityCd,t.filterRarity)}).filter(function(e){return n(e.cost,t.filterCostRange)}).filter(function(e){return n(e.power,t.filterPowerRange)}).filter(function(e){return r(e.civilizations,t.filterCivil)}).filter(function(e){return r(e.races,t.filterRace)})}(r,e);a.setState({displayCardList:Ye(o,o,n)})},a.handleSortSelectChange=function(e){var t=a.state,r=t.originalCardList,n=t.displayCardList;a.setState({sortOption:e,displayCardList:Ye(r,n,e)})},a.state={originalCardList:e.originalCardList,displayCardList:e.originalCardList,raceList:a.getRaceList(e.originalCardList),cardTypeList:a.getCardTypeList(e.originalCardList),sortOption:"default",showSortMenu:null,showDeckNameDialog:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.originalCardList;t.length!==e.originalCardList.length&&(this.setState({originalCardList:t,displayCardList:t}),this.setState({raceList:this.getRaceList(t),cardTypeList:this.getCardTypeList(t)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.apiCallStatus,i=t.showdeckNameDialog,c=t.setTargetCard,l=t.openCardDetailDialog,s=t.openDeckNameDialog,u=t.closeDeckNameDialog,d=t.openFilterDialog,m=t.gridTitle,g=t.titleEditable,p=t.editDeckNameFunc,h=t.cardAction,E=t.removeCardFunc,f=this.state,b=f.displayCardList,C=f.raceList,w=f.cardTypeList,y=f.showSortMenu,x=f.sortOption;return n.a.createElement(r.Fragment,null,n.a.createElement(L.a,{position:"static",color:"default"},n.a.createElement(L.J,null,n.a.createElement(j.a,{variant:"h6",color:"textSecondary",className:a.gridTitle},m),g&&n.a.createElement(L.s,{color:"secondary",onClick:function(){return s()}},n.a.createElement(N.j,null)),n.a.createElement("div",{className:a.grow}),n.a.createElement(L.s,{color:"secondary",disabled:"started"===o},n.a.createElement(N.l,{onClick:function(){return d()}})),n.a.createElement(L.s,{color:"secondary",disabled:"started"===o},n.a.createElement(N.r,{onClick:function(t){return e.setState({showSortMenu:t.currentTarget})}})))),"started"===o&&n.a.createElement(L.w,null),n.a.createElement(te,null,b.map(function(e,t){return n.a.createElement(Ge,{key:e._id+t,card:e,handleClick:function(e){c(e),l()}})})),n.a.createElement(Qe,{sortMenuAnchorEl:y,defaultSelect:x,handleSelectChange:this.handleSortSelectChange,handleSortMenuClose:function(){return e.setState({showSortMenu:null})}}),n.a.createElement(Ke,{filterOption:{filterRace:[],filterCardType:[],filterCivil:[],filterRarity:[],filterCostRange:["",""],filterPowerRange:["",""]},raceList:C,cardTypeList:w,handleFilterChange:this.handleFilterChange}),n.a.createElement(Ue,{cardAction:h,rmCardAction:E}),n.a.createElement(oe,{open:i,titleId:"titleRenameDeck",handleDeckName:p,closeDialog:function(){return u()}}))}}]),t}(r.Component),Ze=Object(ee.b)(function(e){return{apiCallStatus:e.uiEvents.apiCallStatus,showdeckNameDialog:e.dmDialog.deckNameDialog}},function(e){return{setTargetCard:function(t){e(function(e){return{type:Pe,card:e}}(t))},openCardDetailDialog:function(){e({type:Oe})},openDeckNameDialog:function(){e({type:Te})},closeDeckNameDialog:function(){e({type:Ae})},openFilterDialog:function(){e({type:Re})}}})(Object(c.withStyles)(function(e){return Object(M.a)({flexColumnBox:{display:"flex",flexFlow:"column",height:"100%"},gridWrapper:{height:"100%"},firstColumn:{display:"flex",flexFlow:"column"},secondColumn:{display:"grid"},grow:{flexGrow:1},gridTitle:{fontWeight:"bold"},topFab:{position:"fixed",right:2*e.spacing.unit,bottom:2*e.spacing.unit}},e.breakpoints.up("lg"),{firstColumn:{gridTemplateRows:"auto"},secondColumn:{gridTemplateRows:"auto"}})})($e)),Xe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).editDeckName=function(e){var t=a.state.cachedDeck,r=Object(we.a)({},t);r.name=e,a.setState({cachedDeck:r})},a.removeCardFromDeck=function(e){var t=a.props.closeCardDetailDialog,r=a.state.cachedDeck,n=Object(we.a)({},r);n.cards=r.cards.filter(function(t){return t!==e}),a.setState({cachedDeck:n}),t()},a.state={card:null,cachedDeck:null,showConfirmDialog:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location;(0,e.getPlayerDeck)(t.state.deckId)}},{key:"componentDidUpdate",value:function(){var e=this.state.cachedDeck,t=this.props.dmDeck;null===e&&void 0!==t&&this.setState({cachedDeck:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.updatePlayerDecks,i=t.deletePlayerDeck,c=this.state,l=c.cachedDeck,s=c.showConfirmDialog;return null===l?null:n.a.createElement(r.Fragment,null,n.a.createElement(Ze,{gridTitle:l.name,titleEditable:!0,originalCardList:l.cards,cardAction:"rmFromDeck",removeCardFunc:this.removeCardFromDeck,editDeckNameFunc:this.editDeckName}),n.a.createElement(z.a,{to:{pathname:"/productGallery"}},n.a.createElement(L.l,{color:"primary",className:a.insertCardFab},n.a.createElement(N.c,null))),n.a.createElement(L.l,{color:"primary",className:a.deleteFab,onClick:function(){return e.setState({showConfirmDialog:!0})}},n.a.createElement(N.h,null)),n.a.createElement(L.l,{color:"primary",className:a.saveFab,onClick:function(){o(l),e.props.history.push("/deckManager")}},n.a.createElement(N.q,null)),n.a.createElement(Q,{open:s,dialogTitle:n.a.createElement(P.a,{id:"titleRemoveDeck"}),dialogMessage:n.a.createElement(P.a,{id:"txtRemoveDeckWarn"}),closeDialog:function(){return e.setState({showConfirmDialog:!1})},submitButtonText:n.a.createElement(P.a,{id:"btnRemove"}),submitAction:function(){i(l._id),e.props.history.push("/deckManager")}}))}}]),t}(r.Component),et=Object(ee.b)(function(e){return{dmDeck:e.dmDeckList[0],apiCallStatus:e.uiEvents.apiCallStatus}},function(e){return{closeCardDetailDialog:function(){e(_e())},getPlayerDeck:function(t){e(fe(t))},updatePlayerDecks:function(t){e(function(e,t){var a={body:t};return function(t){return t(se()),k.API.put("Duel Masters API","playerDecks/"+e,a).then(function(e){console.log(e),t(ue())}).catch(function(e){console.log(e),de("Error while udpating deck")})}}(t._id,t))},deletePlayerDeck:function(t){e(function(e){return function(t){return t(se()),k.API.del("Duel Masters API","playerDecks/"+e).then(function(e){console.log(e),t(ue())}).catch(function(e){console.log(e),de("Error while deleting deck")})}}(t))}}})(Object(ye.a)(Object(c.withStyles)(function(e){return Object(M.a)({flexColumnBox:{display:"flex",flexFlow:"column",height:"100%"},gridWrapper:{height:"100%"},firstColumn:{display:"flex",flexFlow:"column"},secondColumn:{display:"grid"},grow:{flexGrow:1},gridTitle:{fontWeight:"bold"},saveFab:{position:"fixed",right:2*e.spacing.unit,bottom:2*e.spacing.unit},deleteFab:{position:"fixed",right:4*e.spacing.unit+56,bottom:2*e.spacing.unit},insertCardFab:{position:"fixed",right:6*e.spacing.unit+112,bottom:2*e.spacing.unit}},e.breakpoints.up("lg"),{firstColumn:{gridTemplateRows:"auto"},secondColumn:{gridTemplateRows:"auto"}})})(Xe)));function tt(e){var t=e.split(/[0-9]/)[0],a=e.split(/^[a-zA-Z]+/)[1];return t.toLocaleUpperCase()+"-"+a}var at=Object(c.withStyles)(function(e){return Object(M.a)({productViewBox:{textAlign:"center",padding:"10px"},productContent:{fontFamily:"Meiryo",fontWeight:"bold",fontSize:"14px",marginTop:"5px"},productImage:{width:"100%",maxWidth:"150px",height:"auto"},cardGalleryLink:{textDecoration:"none",color:"black",flexBasis:"150px","&:hover":{color:"#2bd5c6"}}},e.breakpoints.up("md"),{cardGalleryLink:{flexBasis:"155px",border:"1px solid white","&:hover":{color:"#2bd5c6",border:"1px solid #2bd5c6",borderRadius:"5px"}}})})(function(e){var t=e.classes,a=e.product,r=e.productType;return n.a.createElement(z.a,{className:t.cardGalleryLink,to:{pathname:"/cardGallery",state:{action:"startDeck"===r?"getPlayerDeck":"getCardsBySetId",title:tt(a.setId)+" "+(void 0!==a.seriesName?a.seriesName+" ":"")+(void 0!==a.seriesNumber?a.seriesNumber+" ":"")+a.name,primaryId:"startDeck"===r?a._id:a.setId}}},n.a.createElement("div",{className:t.productViewBox},n.a.createElement("img",{src:ve.cloudfrontImageLink+"products/"+a.setId+".jpg",className:t.productImage}),n.a.createElement("div",{className:t.productContent},tt(a.setId),n.a.createElement("br",null),void 0!==a.seriesName&&void 0!==a.seriesNumber?n.a.createElement("div",null,a.seriesName,"  ",a.seriesNumber):null,a.name)))}),rt="RECEIVE_BOOSTER_PACK_LIST",nt="RECEIVE_STARTER_DECK_LIST";function ot(){return function(e){return e(se()),k.API.get("Duel Masters API","boosterPacks/").then(function(t){console.log(t),e(ue()),e({type:rt,boosterPacks:t})}).catch(function(e){console.log(e)})}}function it(){return function(e){return e(se()),k.API.get("Duel Masters API","starterDecks/").then(function(t){console.log(t),e(ue()),e({type:nt,starterDecks:t})})}}var ct=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).getDmProduct=function(e){var t=a.props,r=t.getBoosterPack,n=t.getStarterDeck;switch(a.setState({productType:e}),e){case"boosterPack":r();break;case"startDeck":n()}},a.state={productType:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getDmProduct("boosterPack")}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.dmProductList,i=t.apiCallStatus;return n.a.createElement(r.Fragment,null,n.a.createElement(L.a,{position:"static",color:"default"},n.a.createElement(L.J,null,n.a.createElement(L.r,{container:!0,justify:"space-between",spacing:8},n.a.createElement(L.r,{item:!0,xs:12,sm:5,className:a.appBarButtonWrapper},n.a.createElement(L.b,{onClick:function(){return e.getDmProduct("boosterPack")}},n.a.createElement(P.a,{id:"txtBoosterPacks"})),n.a.createElement(L.b,{onClick:function(){return e.getDmProduct("startDeck")}},n.a.createElement(P.a,{id:"txtStarterDecks"})))))),"started"===i&&n.a.createElement(L.w,null),n.a.createElement(te,null,o.map(function(t){return n.a.createElement(at,{key:t._id,product:t,productType:e.state.productType})})),n.a.createElement(L.l,{color:"primary",className:a.topFab},n.a.createElement(N.e,null)))}}]),t}(r.Component),lt=Object(ee.b)(function(e){return{dmProductList:e.dmProductList,apiCallStatus:e.uiEvents.apiCallStatus}},function(e){return{getBoosterPack:function(){e(ot())},getStarterDeck:function(){e(it())}}})(Object(c.withStyles)(function(e){return{appBarButtonWrapper:{display:"grid",gridTemplateColumns:"auto auto auto"},topFab:{position:"fixed",right:2*e.spacing.unit,bottom:2*e.spacing.unit}}})(ct)),st="RECEIVE_CARDS",ut="RESET_CARD_LIST";function dt(){return{type:ut}}function mt(e){return{type:st,cards:e}}var gt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).handleInsertCardDialogClose=function(){a.setState({showInsertCardDialog:!1,card:null})},a.state={originCardList:[],cachedCardList:[],showInsertCardDialog:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location;switch(e.state.action){case"getCardsBySetId":this.props.getCardsBySetId(e.state.primaryId);break;case"getPlayerDeck":this.props.getCardsByDeckId(e.state.primaryId)}}},{key:"componentDidUpdate",value:function(){var e=this.state.cachedCardList,t=this.props.dmCardList;0===e.length&&t.length>0&&this.setState({cachedCardList:t,originCardList:t})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.location,o=e.dmCardList;return n.a.createElement(r.Fragment,null,n.a.createElement(Ze,{gridTitle:a.state.title,titleEditable:!1,originalCardList:o,cardAction:"addToDeck"}),n.a.createElement(L.l,{color:"primary",className:t.topFab,onClick:function(){return window.scrollTo(0,0)}},n.a.createElement(N.e,null)))}}]),t}(r.Component),pt=Object(ee.b)(function(e){return{dmCardList:e.dmCardList}},function(e){return{getCardsBySetId:function(t){e(function(e){return function(t){return t(se()),t(dt()),k.API.get("Duel Masters API","cards/"+e).then(function(e){console.log(e),t(ue()),t(mt(e))}).catch(function(e){console.log(e)})}}(t))},getCardsByDeckId:function(t){e(function(e){return function(t){return t(se()),t(dt()),k.API.get("Duel Masters API","playerDecks/"+e).then(function(e){t(ue()),t(mt(e[0].cards))}).catch(function(e){console.log(e)})}}(t))}}})(Object(ye.a)(Object(c.withStyles)(function(e){return Object(M.a)({flexColumnBox:{display:"flex",flexFlow:"column",height:"100%"},gridWrapper:{height:"100%"},firstColumn:{display:"flex",flexFlow:"column"},secondColumn:{display:"grid"},grow:{flexGrow:1},gridTitle:{fontWeight:"bold"},topFab:{position:"fixed",right:2*e.spacing.unit,bottom:2*e.spacing.unit}},e.breakpoints.up("lg"),{firstColumn:{gridTemplateRows:"auto"},secondColumn:{gridTemplateRows:"auto"}})})(gt)));var ht=function(e){var t=e.changeLanguage;return n.a.createElement(l.a,{basename:"/duel_masters_deck_maker"},n.a.createElement(s.a,null,n.a.createElement(u.a,{path:"/auth",component:G}),n.a.createElement(X,{exact:!0,path:"/",component:Ce,titleId:"titleDeckManager",changeLanguage:t}),n.a.createElement(X,{path:"/deckManager",component:Ce,titleId:"titleDeckManager",changeLanguage:t}),n.a.createElement(X,{path:"/deckEditor",component:et,titleId:"titleDeckEditor",changeLanguage:t}),n.a.createElement(X,{path:"/productGallery",component:lt,titleId:"titleProductGallery",changeLanguage:t}),n.a.createElement(X,{path:"/cardGallery",component:pt,titleId:"titleCardGallery",changeLanguage:t})))},Et=a(286),ft=a.n(Et),bt=a(287),Ct=a.n(bt),wt=a(288),yt=a.n(wt),xt={en:a(289),zh:a(290),ja:a(291)},kt=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).changeLanguage=function(e){document.getElementsByTagName("html")[0].setAttribute("lang",e),a.setState({locale:e})},Object(P.c)([].concat(Object(We.a)(ft.a),Object(We.a)(yt.a),Object(We.a)(Ct.a)));var r=localStorage.getItem("langCode");return a.state={locale:null===r?"en":r},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.locale;return n.a.createElement(P.b,{locale:e,messages:xt[e]},n.a.cloneElement(this.props.children,{changeLanguage:this.changeLanguage}))}}]),t}(r.Component),vt=a(292),Dt=a(58),St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt:return t.boosterPacks;case nt:return t.starterDecks;default:return e}},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(we.a)({},e,{apiCallStatus:"started"});case ce:return Object(we.a)({},e,{apiCallStatus:"finished"});case le:return Object(we.a)({},e,{apiCallStatus:"error",deckAPIErrMsg:t.message});default:return e}},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{targetCard:null,cardDetailDialog:!1,insertCardDialog:!1,deckNameDialog:!1,filterDialog:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(we.a)({},e,{targetCard:t.card});case Oe:return Object(we.a)({},e,{cardDetailDialog:!0});case je:return Object(we.a)({},e,{cardDetailDialog:!1});case Le:return Object(we.a)({},e,{insertCardDialog:!0});case Ne:return Object(we.a)({},e,{insertCardDialog:!1});case Te:return Object(we.a)({},e,{deckNameDialog:!0});case Ae:return Object(we.a)({},e,{deckNameDialog:!1});case Re:return Object(we.a)({},e,{filterDialog:!0});case Fe:return Object(we.a)({},e,{filterDialog:!1});default:return e}},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return t.cards;case ut:return[];default:return e}},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return t.decks;case ge:return t.deck;case pe:return[];default:return e}},jt=Object(Dt.c)({dmProductList:St,dmCardList:Pt,dmDeckList:Ot,uiEvents:It,dmDialog:Mt});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Lt=a(293),Nt=Object(c.createMuiTheme)(Lt),Tt=Object(Dt.d)(jt,Object(Dt.a)(vt.a));i.a.render(n.a.createElement(c.MuiThemeProvider,{theme:Nt},n.a.createElement(ee.a,{store:Tt},n.a.createElement(kt,null,n.a.createElement(ht,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5548,2,1]]]);
//# sourceMappingURL=main.4fc86385.chunk.js.map