(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e){e.exports={btnCreateAccount:"Create Account",btnForgetPassword:"Forget Password?",btnGetNewPassword:"Get New Password",btnSignInInstead:"Sign In Instead",btnSignIn:"Sign In",btnSignUp:"Sign Up",titleCardGallery:"Card Gallery",titleDashboard:"Dashboard",titleDeckEditor:"Deck Editor",titleDeckManager:"Deck Manager",titleForgetPassword:"Forget Password",titleProductGallery:"Product Gallery",titleProhibitCardList:"Prohibited Card List",titleSignIn:"Sign In",titleSignUp:"Sign Up",txtEmail:"Email",txtPassword:"Password",txtUsername:"Username"}},108:function(e,t){},150:function(e){e.exports={Auth:{userPoolId:"us-east-2_Nb73NmC0B",region:"us-east-2",userPoolWebClientId:"7nhio0tq9iof0qs8d59dfq2eug"},API:{endpoints:[{name:"Duel Masters API",endpoint:"https://v1tf2aoszi.execute-api.us-east-2.amazonaws.com/dev/"}]}}},269:function(e,t,a){e.exports=a.p+"static/media/dm_logo.605740b1.png"},271:function(e,t){},272:function(e,t,a){e.exports=a.p+"static/media/dm__icon.3bf9ba8e.png"},275:function(e,t,a){e.exports=a.p+"static/media/deck_case.9b7b9245.png"},279:function(e){e.exports={btnCreateAccount:"\u8a3b\u518a",btnForgetPassword:"\u5fd8\u8a18\u5bc6\u78bc?",btnGetNewPassword:"\u7372\u53d6\u65b0\u5bc6\u78bc",btnSignInInstead:"\u8fd4\u56de\u767b\u9304",btnSignIn:"\u767b\u9304",btnSignUp:"\u8a3b\u518a",titleForgetPassword:"\u5fa9\u539f\u5e33\u6236",titleSignIn:"\u767b\u9304",titleSignUp:"\u8a3b\u518a",txtEmail:"\u96fb\u5b50\u90f5\u4ef6",txtPassword:"\u5bc6\u78bc",txtUsername:"\u7528\u6236\u540d"}},280:function(e){e.exports={btnCreateAccount:"\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332",btnForgetPassword:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u5fd8\u308c\u305f",btnGetNewPassword:"\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u53d6\u5f97\u3059\u308b",btnSignInInstead:"\u30b5\u30a4\u30f3\u30a4\u30f3\u3059\u308b",btnSignIn:"\u30b5\u30a4\u30f3\u30a4\u30f3",btnSignUp:"\u767b\u9332",titleForgetPassword:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u5fd8\u308c\u305f\u5834\u5408",titleSignIn:"\u30b5\u30a4\u30f3\u30a4\u30f3",titleSignUp:"\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332",txtEmail:"\u96fb\u5b50\u30e1\u30fc\u30eb",txtPassword:"\u30d1\u30b9\u30ef\u30fc\u30c9",txtUsername:"\u30e6\u30fc\u30b6\u30fc\u540d"}},282:function(e){e.exports={palette:{primary:{light:"#2F3D45",main:"#232E33",dark:"#263238",contrastText:"#eeeeee"},secondary:{light:"#66ffa6",main:"#00e676",dark:"#00b248",contrastText:"#eeeeee"}},typography:{fontFamily:["Roboto","Arial"],useNextVariants:!0},overrides:{MuiButton:{textPrimary:{color:"#eeeeee"}},MuiTypography:{colorTextPrimary:{color:"#eeeeee"},colorTextSecondary:{color:"#263238"}},MuiInput:{underline:{"&:after":{"border-bottom":"2px solid #263238"}}},MuiInputLabel:{formControl:{color:"#263238"}},MuiSvgIcon:{root:{color:"#eeeeee"},colorSecondary:{color:"#263238"}},MuiAppBar:{colorPrimary:{"background-color":"#424242"}},MuiDrawer:{paper:{"background-color":"#424242"}},MuiMenuItem:{root:{color:"#263238"}},MuiCardHeader:{title:{color:"#263238"},content:{color:"#263238"}},MuiFab:{primary:{"background-color":"#263238"}},MuiLinearProgress:{colorPrimary:{"background-color":"#00b248"},barColorPrimary:{"background-color":"#00e676"}}}}},49:function(e){e.exports={cloudfrontImageLink:"https://d24enp9s7e5j3d.cloudfront.net/",dmCardImageLink:"https://dm.takaratomy.co.jp/wp-content/card/cardimage/"}},5543:function(e,t,a){e.exports=a(5896)},5548:function(e,t,a){},5794:function(e,t){},5800:function(e,t){},5893:function(e,t,a){},5896:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(37),i=a.n(o),s=(a(5548),a(14)),c=a(5902),l=a(5903),u=a(5900),d=a(17),m=a(18),h=a(20),g=a(19),p=a(21),E=a(148),f=a.n(E),b=a(268),w=a(269),C=a.n(w),k=a(66),y=a.n(k),v=a(23),D=a.n(v),S=a(48),x=a.n(S);var I=Object(s.withStyles)({root:{backgroundColor:"rgba(255, 255, 255, 0.2)",padding:"30px"}})(function(e){var t=e.classes,a=e.children;return r.a.createElement(x.a,{classes:{root:t.root},elevation:1},a)}),P=a(22),j=a(16),O=a(29),M=a.n(O),N=a(1),A=a(6),T=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).handleTextChange=function(e){a.setState(Object(P.a)({},e.target.id,e.target.value))},a.handleClickShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.clearError=function(e){"email"===e.target.id?a.setState({emailErrorMsg:""}):"password"===e.target.id&&a.setState({passwordErrorMsg:""})},a.state={email:"",emailErrorMsg:"",password:"",passwordErrorMsg:"",showPassword:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.errObject;t&&t!==e.errObject&&("Username cannot be empty"===t?this.setState({emailErrorMsg:"Email cannot be empty"}):"UserNotFoundException"===t.code?this.setState({emailErrorMsg:"Email does not exist"}):"UserNotConfirmedException"===t.code?this.setState({emailErrorMsg:"Account is not confirmed"}):"NotAuthorizedException"===t.code?this.setState({passwordErrorMsg:"Incorrect password"}):"UnexpectedLambdaException"===t.code?this.setState({passwordErrorMsg:"Password cannot be empty"}):this.setState({emailErrorMsg:t.message}))}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.props.awsSignIn(e.state.email,e.state.password)}},r.a.createElement(N.m,{container:!0,direction:"column",spacing:16},r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0},r.a.createElement(M.a,{variant:"h5",color:"textPrimary"},r.a.createElement(j.a,{id:"titleSignIn"})))),r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0,alignItems:"flex-end"},r.a.createElement(N.m,{item:!0,xs:2},r.a.createElement(A.a,null)),r.a.createElement(N.m,{item:!0,xs:10},r.a.createElement(N.A,{id:"email",label:r.a.createElement(j.a,{id:"txtEmail"}),type:"email",value:this.state.email,error:""!==this.state.emailErrorMsg,helperText:this.state.emailErrorMsg,fullWidth:!0,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)}})))),r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0,alignItems:"flex-end"},r.a.createElement(N.m,{item:!0,xs:2},r.a.createElement(A.m,null)),r.a.createElement(N.m,{item:!0,xs:10},r.a.createElement(N.k,{fullWidth:!0,error:""!==this.state.passwordErrorMsg},r.a.createElement(N.q,{htmlFor:"password"},r.a.createElement(j.a,{id:"txtPassword"})),r.a.createElement(N.o,{id:"password",type:this.state.showPassword?"text":"password",value:this.state.password,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)},endAdornment:r.a.createElement(N.p,{position:"end"},r.a.createElement(N.n,{"aria-label":"Toggle password visibility",onClick:this.handleClickShowPassword},this.state.showPassword?r.a.createElement(A.s,null):r.a.createElement(A.t,null)))}),""!==this.state.passwordErrorMsg&&r.a.createElement(N.l,null,this.state.passwordErrorMsg))))),r.a.createElement(N.m,{item:!0,xs:12},r.a.createElement(N.b,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0},r.a.createElement(j.a,{id:"btnSignIn"}))),r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(N.m,{item:!0},r.a.createElement(N.b,{color:"primary",onClick:function(){return e.props.changeState("forgetPassword")}},r.a.createElement(j.a,{id:"btnForgetPassword"}))),r.a.createElement(N.m,{item:!0},r.a.createElement(N.b,{color:"primary",onClick:function(){return e.props.changeState("signUp")}},r.a.createElement(j.a,{id:"btnCreateAccount"})))))))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).handleTextChange=function(e){a.setState(Object(P.a)({},e.target.id,e.target.value))},a.handleClickShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.clearError=function(e){"email"===e.target.id?a.setState({emailErrorMsg:""}):"username"===e.target.id?a.setState({usernameErrorMsg:""}):"password"===e.target.id&&a.setState({passwordErrorMsg:""})},a.state={email:"",emailErrorMsg:"",username:"",usernameErrorMsg:"",password:"",passwordErrorMsg:"",showPassword:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.errObject;t&&t!==e.errObject&&("EmptyUserException"===t.code?this.setState({usernameErrorMsg:"Username cannot be empty"}):"Username cannot be empty"===t?this.setState({emailErrorMsg:"Email cannot be empty"}):"UsernameExistsException"===t.code?this.setState({emailErrorMsg:"Email already in used"}):"InvalidParameterException"===t.code&&t.message.includes("Invalid email")?this.setState({emailErrorMsg:"Invalid email address format."}):"Password cannot be empty"===t?this.setState({passwordErrorMsg:"Password cannot be empty"}):t.message.includes("equal to 6")||t.message.includes("long enough")?this.setState({passwordErrorMsg:"Password length must at least has 8 characters"}):"InvalidPasswordException"===t.code&&t.message.includes("uppercase")?this.setState({passwordErrorMsg:"Password must have uppercase characters"}):"InvalidPasswordException"===t.code&&t.message.includes("lowercase")?this.setState({passwordErrorMsg:"Password must have lowercase characters"}):"InvalidPasswordException"===t.code&&t.message.includes("numeric ")?this.setState({passwordErrorMsg:"Password must have numeric characters"}):"InvalidPasswordException"===t.code&&t.message.includes("symbol ")?this.setState({passwordErrorMsg:"Password must have symbol characters"}):this.setState({emailErrorMsg:t.message}))}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.props.awsSignUp(e.state.email,e.state.username,e.state.password)}},r.a.createElement(N.m,{container:!0,direction:"column",spacing:16},r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0},r.a.createElement(M.a,{variant:"h5",color:"textPrimary"},r.a.createElement(j.a,{id:"titleSignUp"})))),r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0,alignItems:"flex-end"},r.a.createElement(N.m,{item:!0,xs:2},r.a.createElement(A.j,null)),r.a.createElement(N.m,{item:!0,xs:10},r.a.createElement(N.A,{id:"email",label:r.a.createElement(j.a,{id:"txtEmail"}),type:"email",value:this.state.email,error:""!==this.state.emailErrorMsg,helperText:this.state.emailErrorMsg,fullWidth:!0,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)}})))),r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0,alignItems:"flex-end"},r.a.createElement(N.m,{item:!0,xs:2},r.a.createElement(A.a,null)),r.a.createElement(N.m,{item:!0,xs:10},r.a.createElement(N.A,{id:"username",label:r.a.createElement(j.a,{id:"txtUsername"}),type:"text",value:this.state.username,error:""!==this.state.usernameErrorMsg,helperText:this.state.usernameErrorMsg,fullWidth:!0,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)}})))),r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0,alignItems:"flex-end"},r.a.createElement(N.m,{item:!0,xs:2},r.a.createElement(A.m,null)),r.a.createElement(N.m,{item:!0,xs:10},r.a.createElement(N.k,{fullWidth:!0,error:""!==this.state.passwordErrorMsg},r.a.createElement(N.q,{htmlFor:"password"},r.a.createElement(j.a,{id:"txtPassword"})),r.a.createElement(N.o,{id:"password",type:this.state.showPassword?"text":"password",value:this.state.password,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)},endAdornment:r.a.createElement(N.p,{position:"end"},r.a.createElement(N.n,{"aria-label":"Toggle password visibility",onClick:this.handleClickShowPassword},this.state.showPassword?r.a.createElement(A.s,null):r.a.createElement(A.t,null)))}),""!==this.state.passwordErrorMsg&&r.a.createElement(N.l,null,this.state.passwordErrorMsg))))),r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0},r.a.createElement(N.m,{item:!0,xs:12},r.a.createElement(N.b,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0},r.a.createElement(j.a,{id:"titleSignUp"}))))),r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(N.m,{item:!0},r.a.createElement(N.b,{color:"primary",onClick:function(){return e.props.changeState("signIn")}},r.a.createElement(j.a,{id:"btnSignInInstead"})))))))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).clearError=function(e){a.setState({emailErrorMsg:""})},a.state={email:"",emailErrorMsg:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.errObject;t&&t!==e.errObject&&("Username cannot be empty"===t?this.setState({emailErrorMsg:"Email cannot be empty"}):"UserNotFoundException"===t.code?this.setState({emailErrorMsg:"Email does not exist"}):this.setState({emailErrorMsg:t.message}))}},{key:"handleTextChange",value:function(e){this.setState(Object(P.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.props.awsForgetPassword(e.state.email)}},r.a.createElement(N.m,{container:!0,direction:"column",spacing:16},r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0},r.a.createElement(M.a,{variant:"h5",color:"textPrimary"},r.a.createElement(j.a,{id:"titleForgetPassword"})))),r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0,alignItems:"flex-end"},r.a.createElement(N.m,{item:!0,xs:2},r.a.createElement(A.a,null)),r.a.createElement(N.m,{item:!0,xs:10},r.a.createElement(N.A,{id:"email",label:r.a.createElement(j.a,{id:"txtEmail"}),type:"email",value:this.state.email,error:""!==this.state.emailErrorMsg,helperText:this.state.emailErrorMsg,fullWidth:!0,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)}})))),r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0},r.a.createElement(N.m,{item:!0,xs:12},r.a.createElement(N.b,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0},r.a.createElement(j.a,{id:"btnGetNewPassword"}))))),r.a.createElement(N.m,{item:!0},r.a.createElement(N.m,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(N.m,{item:!0},r.a.createElement(N.b,{color:"primary",onClick:function(){return e.props.changeState("signIn")}},r.a.createElement(j.a,{id:"btnSignInInstead"})))))))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).clearError=function(e){a.setState({codeErrorMsg:""})},a.handleClose=function(){a.setState({password:"",passwordErrorMsg:"",code:"",codeErrorMsg:"",showPassword:!1})},a.state={code:"",codeErrorMsg:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.errObject;t&&t!==e.errObject&&(this.setState({codeErrorMsg:"Invalid verification code provided, please try again"}),"Code cannot be empty"===t?this.setState({codeErrorMsg:"Code cannot be empty"}):"CodeMismatchException"===t.code?this.setState({codeErrorMsg:"Invalid verification code provided, please try again"}):this.setState({codeErrorMsg:t.message}))}},{key:"handleTextChange",value:function(e){this.setState({code:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement(N.c,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:this.props.open,onExit:function(){return e.handleClose()},"aria-labelledby":"form-dialog-title"},r.a.createElement(N.g,{id:"form-dialog-title"},"Enter Verification Code"),r.a.createElement(N.e,null,r.a.createElement(N.f,null,"Verification code will send to your email soon. Please enter it in below text field."),r.a.createElement(N.A,{autoFocus:!0,label:"Verification Code",value:this.state.code,error:""!==this.state.codeErrorMsg,helperText:this.state.codeErrorMsg,fullWidth:!0,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)}})),r.a.createElement(N.d,null,r.a.createElement(N.b,{onClick:function(){return e.props.awsResendCode()}},"Resend Code"),r.a.createElement(N.b,{onClick:function(){return e.props.awsVerifyCode(e.state.code)}},"Submit")))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).handleClickShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.clearError=function(e){"password"===e.target.id?a.setState({passwordErrorMsg:""}):"code"===e.target.id&&a.setState({codeErrorMsg:""})},a.handleClose=function(){a.setState({password:"",passwordErrorMsg:"",code:"",codeErrorMsg:"",showPassword:!1})},a.state={password:"",passwordErrorMsg:"",code:"",codeErrorMsg:"",showPassword:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.errObject;t&&t!==e.errObject&&("Code cannot be empty"===t?this.setState({codeErrorMsg:"Code cannot be empty"}):"CodeMismatchException"===t.code?this.setState({codeErrorMsg:"Invalid verification code provided, please try again."}):"Password cannot be empty"===t?this.setState({passwordErrorMsg:"Password cannot be empty"}):t.message.includes("equal to 6")||t.message.includes("long enough")?this.setState({passwordErrorMsg:"Password length must at least has 8 characters"}):"InvalidPasswordException"===t.code&&t.message.includes("uppercase")?this.setState({passwordErrorMsg:"Password must have uppercase characters"}):"InvalidPasswordException"===t.code&&t.message.includes("lowercase")?this.setState({passwordErrorMsg:"Password must have lowercase characters"}):"InvalidPasswordException"===t.code&&t.message.includes("numeric ")?this.setState({passwordErrorMsg:"Password must have numeric characters"}):"InvalidPasswordException"===t.code&&t.message.includes("symbol ")?this.setState({passwordErrorMsg:"Password must have symbol characters"}):this.setState({codeErrorMsg:t.message}))}},{key:"handleTextChange",value:function(e){this.setState(Object(P.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){var e=this;return r.a.createElement(N.c,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:this.props.open,onExit:function(){return e.handleClose()},"aria-labelledby":"form-dialog-title"},r.a.createElement(N.g,{id:"form-dialog-title"},"Enter New Password and Verification Code"),r.a.createElement(N.e,null,r.a.createElement(N.f,null,"Verification code will send to your email soon. Please enter the new password and the code in below text field."),r.a.createElement(N.m,{container:!0,spacing:16},r.a.createElement(N.m,{item:!0,xs:12,lg:6},r.a.createElement(N.k,{fullWidth:!0,error:""!==this.state.passwordErrorMsg},r.a.createElement(N.q,{htmlFor:"password"},r.a.createElement(j.a,{id:"txtPassword"})),r.a.createElement(N.o,{id:"password",type:this.state.showPassword?"text":"password",value:this.state.password,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)},endAdornment:r.a.createElement(N.p,{position:"end"},r.a.createElement(N.n,{"aria-label":"Toggle password visibility",onClick:this.handleClickShowPassword},this.state.showPassword?r.a.createElement(A.s,null):r.a.createElement(A.t,null)))}),""!==this.state.passwordErrorMsg&&r.a.createElement(N.l,null,this.state.passwordErrorMsg))),r.a.createElement(N.m,{item:!0,xs:12,lg:6},r.a.createElement(N.A,{id:"code",label:"Verification Code",value:this.state.code,error:""!==this.state.codeErrorMsg,helperText:this.state.codeErrorMsg,fullWidth:!0,onInput:function(t){return e.clearError(t)},onChange:function(t){return e.handleTextChange(t)}})))),r.a.createElement(N.d,null,r.a.createElement(N.b,{onClick:function(){return e.props.awsVerifyPasswordCode(e.state.password,e.state.code)}},"Submit")))}}]),t}(n.Component),_=a(5898),R=a(150);R.API.endpoints[0].custom_header=Object(b.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Auth.currentSession();case 2:return t=e.sent.idToken.jwtToken,e.abrupt("return",{Authorization:t});case 4:case"end":return e.stop()}},e,this)})),D.a.configure(R);var V=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).signIn=function(e,t){v.Auth.signIn(e,t).then(function(e){a.props.history.push("/")}).catch(function(e){a.setState({childError:e})})},a.signUp=function(e,t,n){0===t.trim().length?a.setState({childError:{code:"EmptyUserException"}}):v.Auth.signUp({username:e,password:n,attributes:{email:e,name:t}}).then(function(e){a.setState({authuser:e.user,showVerifCodeDialog:!0})}).catch(function(e){a.setState({childError:e})})},a.forgetPassword=function(e){v.Auth.forgotPassword(e).then(function(t){a.setState({forgetPsEmail:e,showVerifPasswordCodeDialog:!0})}).catch(function(e){return a.setState({childError:e})})},a.resentSignUpCode=function(){v.Auth.resendSignUp(a.state.authuser.username).catch(function(e){return a.setState({verificationSignInError:e})})},a.verifySignUpCode=function(e){v.Auth.confirmSignUp(a.state.authuser.username,e).then(function(e){a.setState({showVerifCodeDialog:!1}),a.props.history.push("/")}).catch(function(e){return a.setState({verificationSignInError:e})})},a.verifyForgetPasswordCode=function(e,t){v.Auth.forgotPasswordSubmit(a.state.forgetPsEmail,t,e).then(function(e){a.setState({showVerifPasswordCodeDialog:!1,authState:"signIn"}),a.changeState("signIn")}).catch(function(e){return a.setState({verificationForgetPsError:e})})},a.changeState=function(e){a.setState({authState:e})},a.state={authState:"signIn",authUser:null,childError:null,verificationSignInError:null,verificationForgetPsError:null,forgetPsEmail:"",showVerifCodeDialog:!1,showVerifPasswordCodeDialog:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"DmAuthenticator"},r.a.createElement(y.a,{container:!0,className:"Fullpage-container",direction:"column",alignItems:"center",justify:"center"},r.a.createElement(y.a,{item:!0,xs:12,xl:4},r.a.createElement("img",{src:C.a,className:"Login-logo",alt:"logo"})),r.a.createElement(y.a,{item:!0,xs:10},r.a.createElement(I,null,function(e){switch(e.state.authState){case"signIn":return r.a.createElement(T,{changeState:e.changeState,awsSignIn:e.signIn,errObject:e.state.childError});case"signUp":return r.a.createElement(L,{changeState:e.changeState,awsSignUp:e.signUp,errObject:e.state.childError});case"forgetPassword":return r.a.createElement(U,{changeState:e.changeState,awsForgetPassword:e.forgetPassword,errObject:e.state.childError});default:return null}}(this)))),r.a.createElement(F,{open:this.state.showVerifCodeDialog,awsVerifyCode:this.verifySignUpCode,awsResendCode:this.resentSignUpCode,errObject:this.state.verificationSignInError}),r.a.createElement(B,{open:this.state.showVerifPasswordCodeDialog,awsVerifyPasswordCode:this.verifyForgetPasswordCode,errObject:this.state.verificationForgetPsError}))}}]),t}(n.Component),W=Object(_.a)(V),G=a(283),q=a(5901),z=(a(5893),a(5899)),K=a(272),H=a.n(K);var J=function(e){return r.a.createElement("div",{id:"sidenav"},r.a.createElement("div",{id:"topSideNav"},r.a.createElement("img",{alt:"DM",src:H.a,id:"dmIcon"}),r.a.createElement("hr",null),r.a.createElement(z.a,{to:"/deckManager"},r.a.createElement(N.C,{title:"Deck Manager",placement:"right"},r.a.createElement(N.n,null,r.a.createElement(A.u,null)))),r.a.createElement(z.a,{to:"/productGallery"},r.a.createElement(N.C,{title:"Product Gallery",placement:"right"},r.a.createElement(N.n,null,r.a.createElement(A.f,null))))),r.a.createElement("div",{id:"bottomSideNav"},r.a.createElement(N.C,{title:"Langauges Setting",placement:"right"},r.a.createElement(N.n,{onClick:function(t){return e.showLanguageMenu(t)}},r.a.createElement(A.l,null))),r.a.createElement(N.C,{title:"Logout",placement:"right"},r.a.createElement(N.n,{onClick:function(){return e.showConfirmDialog()}},r.a.createElement(A.o,null)))))},Y=function(e){var t=e.open,a=e.closeDialog,n=e.dialogTitle,o=e.dialogMessage,i=e.submitAction,s=e.submitButtonText;return r.a.createElement(N.c,{open:t,"aria-labelledby":"logout-dialog-title","aria-describedby":"logout-dialog-description"},r.a.createElement(N.g,{id:"logout-dialog-title"},n),r.a.createElement(N.e,null,r.a.createElement(N.f,{id:"logout-dialog-description"},o)),r.a.createElement(N.d,null,r.a.createElement(N.b,{onClick:function(){return a()}},"Cancel"),r.a.createElement(N.b,{onClick:function(){return i()},autoFocus:!0},s)))},Q=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).signOut=function(){v.Auth.signOut().then(function(e){a.setState({showConfirmDialog:!1}),a.props.history.push("/auth")}).catch(function(e){return console.log(e)})},a.toggleDrawer=function(e){return function(){a.setState({showDrawer:e})}},a.state={languageMenuAnchorEl:null,showConfirmDialog:!1,showDrawer:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.mainComponent,n=t.classes,o=t.titleId,i=this.state,s=i.languageMenuAnchorEl,c=i.showConfirmDialog,l=i.showDrawer;return r.a.createElement("div",null,r.a.createElement(J,{showConfirmDialog:function(){return e.setState({showConfirmDialog:!0})},showLanguageMenu:function(t){return e.setState({languageMenuAnchorEl:t.currentTarget})}}),r.a.createElement("div",{className:n.root},r.a.createElement(N.a,{position:"fixed",color:"primary",className:n.mobileMenu},r.a.createElement(N.B,null,r.a.createElement(N.n,{className:n.menuButton,color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer(!0)},r.a.createElement(A.n,null)),r.a.createElement(M.a,{variant:"h6",color:"inherit",className:n.grow},r.a.createElement(j.a,{id:o})),r.a.createElement(N.n,{color:"inherit",onClick:function(t){return e.setState({languageMenuAnchorEl:t.currentTarget})}},r.a.createElement(A.l,null)),r.a.createElement(N.n,{color:"inherit",onClick:function(){return e.setState({showConfirmDialog:!0})}},r.a.createElement(A.o,null)))),r.a.createElement("div",{className:n.componentWrapper},r.a.createElement("div",null,r.a.createElement(M.a,{variant:"h3",color:"textPrimary",className:n.compName,gutterBottom:!0},r.a.createElement(j.a,{id:o})),r.a.createElement(a,null)))),r.a.createElement(Y,{open:c,dialogTitle:"Logout",dialogMessage:"Are you sure you want to log out?",closeDialog:function(){return e.setState({showConfirmDialog:!1})},submitButtonText:"Logout",submitAction:this.signOut}),r.a.createElement(N.w,{id:"langauge-menu",anchorEl:s,open:Boolean(s),anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:function(){return e.setState({languageMenuAnchorEl:null})}},r.a.createElement(N.x,{onClick:function(){e.setState({languageMenuAnchorEl:null})}},"English"),r.a.createElement(N.x,{onClick:function(){e.setState({languageMenuAnchorEl:null})}},"Traditional Chinese"),r.a.createElement(N.x,{onClick:function(){e.setState({languageMenuAnchorEl:null})}},"Japanese")),r.a.createElement(N.i,{anchor:"left",open:l,onClose:this.toggleDrawer(!1)},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer(!1),onKeyDown:this.toggleDrawer(!1)},r.a.createElement(N.s,null,r.a.createElement(z.a,{to:"/deckManager"},r.a.createElement(N.t,null,r.a.createElement(N.u,null,r.a.createElement(A.u,null)),r.a.createElement(N.v,{classes:{primary:n.drawerText},primary:r.a.createElement(j.a,{id:"titleDeckManager"})}))),r.a.createElement(z.a,{to:"/productGallery"},r.a.createElement(N.t,null,r.a.createElement(N.u,null,r.a.createElement(A.f,null)),r.a.createElement(N.v,{classes:{primary:n.drawerText},primary:r.a.createElement(j.a,{id:"titleProductGallery"})})))))))}}]),t}(n.Component),Z=Object(_.a)(Object(s.withStyles)(function(e){var t;return Object(P.a)({root:(t={paddingTop:"56px",height:"97vh"},Object(P.a)(t,e.breakpoints.up("sm"),{marginLeft:"50px"}),Object(P.a)(t,e.breakpoints.up("md"),{marginLeft:"60px"}),t),compName:{display:"none"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},drawerText:{color:"#eeeeee"},componentWrapper:{padding:"10px"}},e.breakpoints.up("sm"),{root:{paddingTop:"0px"},compName:{display:"block"},mobileMenu:{display:"none"}})})(Q)),$=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={shouldRender:!1,authUser:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.Auth.currentAuthenticatedUser().then(function(t){return e.setState({shouldRender:!0,authUser:t})}).catch(function(t){return e.props.history.push("/auth")}),this.unlisten=this.props.history.listen(function(){v.Auth.currentAuthenticatedUser().then(function(t){e.setState({shouldRender:!0,authUser:t})}).catch(function(t){e.setState({authUser:null})})})}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){var e=this.props,t=e.component,a=e.titleId,n=Object(G.a)(e,["component","titleId"]),o=this.state,i=o.shouldRender,s=o.authUser;return i?r.a.createElement(u.a,Object.assign({},n,{render:function(e){return null!==s?r.a.createElement(Z,Object.assign({authUser:s,mainComponent:t,titleId:a},e)):r.a.createElement(q.a,{to:{pathname:"/auth"}})}})):null}}]),t}(n.Component),X=Object(_.a)($),ee=a(43);var te=Object(s.withStyles)(function(e){return{gridViewBox:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",padding:"10px",width:"inherit",height:"100%",overflowY:"auto",flexGrow:"1"}}})(function(e){var t=e.classes,a=e.children;return r.a.createElement(N.y,{className:t.gridViewBox},a)}),ae=a(275),ne=a.n(ae);var re=Object(s.withStyles)(function(e){return Object(P.a)({deckViewBox:{textAlign:"center",padding:"10px"},deckContent:{fontFamily:"Meiryo",fontWeight:"bold",fontSize:"14px",marginTop:"5px"},deckImage:{width:"100%",maxWidth:"100px",height:"auto"},deckDetailLink:{textDecoration:"none",color:"black",flexBasis:"100px","&:hover":{color:"#2bd5c6"}}},e.breakpoints.up("md"),{deckDetailLink:{flexBasis:"105px",border:"1px solid white","&:hover":{color:"#2bd5c6",border:"1px solid #2bd5c6",borderRadius:"5px"}}})})(function(e){var t=e.classes,a=e.deck;return r.a.createElement(z.a,{className:t.deckDetailLink,to:{pathname:"/deckEditor",state:{deckId:a._id}}},r.a.createElement("div",{className:t.deckViewBox},r.a.createElement("img",{src:ne.a,className:t.deckImage}),r.a.createElement("div",{className:t.deckContent},a.name)))}),oe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).handleClose=function(){a.setState({deckName:""}),a.props.closeDialog()},a.submit=function(e){e.length>0?(a.props.handleDeckName(a.state.deckName),a.handleClose()):a.setState({codeErrorMsg:"Deck name cannot be empty"})},a.state={deckName:"",codeErrorMsg:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleTextChange",value:function(e){this.setState({deckName:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.title,o=this.state,i=o.deckName,s=o.codeErrorMsg;return r.a.createElement(N.c,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:a,onExit:function(){return e.handleClose()},"aria-labelledby":"form-dialog-title"},r.a.createElement(N.g,{id:"form-dialog-title"},n),r.a.createElement(N.e,null,r.a.createElement(N.f,null,"Please enter deck name"),r.a.createElement(N.A,{autoFocus:!0,label:"Deck Name",value:i,error:""!==s,helperText:s,fullWidth:!0,onChange:function(t){return e.handleTextChange(t)}})),r.a.createElement(N.d,null,r.a.createElement(N.b,{onClick:function(){return e.handleClose()}},"Cancel"),r.a.createElement(N.b,{onClick:function(){return e.submit(i)}},"Submit")))}}]),t}(n.Component),ie="START_API_CALL",se="FINISH_API_CALL",ce="FINISH_API_ERR";function le(){return{type:ie}}function ue(){return{type:se}}function de(e){return{type:ce,message:e}}var me="RECEIVE_PLAYER_DECK_LIST",he="RECEIVE_SINGLE_PLAYER_DECK",ge="RESET_DECK_LIST";function pe(){return{type:ge}}function Ee(){return function(e){return e(le()),e(pe()),v.Auth.currentAuthenticatedUser().then(function(t){return console.log(t),v.API.get("Duel Masters API","playerDecks/user/"+t.username).then(function(t){console.log(t),e(ue()),e({type:me,decks:t})}).catch(function(e){throw e})}).catch(function(e){return console.log(e)})}}function fe(e){return function(t){return t(le()),t(pe()),v.API.get("Duel Masters API","playerDecks/"+e).then(function(e){console.log(e),t(ue()),t({type:he,deck:e})}).catch(function(e){console.log(e)})}}var be=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).createDeck=function(e){a.props.createPlayerDeck(e),a.props.getPlayerDecks()},a.closeDeckNameDialog=function(){a.setState({showDeckNameDialog:!1})},a.state={showDeckNameDialog:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getPlayerDecks()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.dmDeckList,i=t.apiCallStatus;return r.a.createElement(n.Fragment,null,"started"===i&&r.a.createElement(N.r,null),r.a.createElement(te,null,o.map(function(e){return r.a.createElement(re,{key:e._id,deck:e})})),r.a.createElement(N.j,{color:"primary",className:a.addFab,onClick:function(){return e.setState({showDeckNameDialog:!0})}},r.a.createElement(A.b,null)),r.a.createElement(oe,{open:this.state.showDeckNameDialog,title:"Create New Deck",handleDeckName:this.createDeck,closeDialog:this.closeDeckNameDialog}))}}]),t}(n.Component),we=Object(ee.b)(function(e){return{dmDeckList:e.dmDeckList,apiCallStatus:e.uiEvents.apiCallStatus}},function(e){return{getPlayerDecks:function(){e(Ee())},createPlayerDeck:function(t){e(function(e){return function(t){return t(le()),v.Auth.currentAuthenticatedUser().then(function(a){console.log(a);var n={body:{name:e,userId:a.username}};return v.API.post("Duel Masters API","playerDecks/",n).then(function(e){console.log(e),t(ue())}).catch(function(e){throw e})}).catch(function(e){console.log(e),de("Error while inserting deck")})}}(t))}}})(Object(s.withStyles)(function(e){return{addFab:{position:"fixed",right:2*e.spacing.unit,bottom:2*e.spacing.unit},deleteFab:{position:"fixed",right:4*e.spacing.unit+56,bottom:2*e.spacing.unit}}})(be)),Ce=a(55),ke=a(7),ye=a.n(ke),ve=a(5891),De=a(49);var Se=Object(s.withStyles)(function(e){var t;return t={cardViewBox:{textAlign:"center",padding:"10px"},cardContent:{fontFamily:"Meiryo",fontWeight:"bold",fontSize:"10px",marginTop:"5px"},cardImage:{width:"100%",maxWidth:"130px",height:"auto"},cardDetailLink:{textDecoration:"none",color:"black",flexBasis:"85px","&:hover":{color:"#2bd5c6"}}},Object(P.a)(t,e.breakpoints.up("sm"),{cardDetailLink:{flexBasis:"115px"}}),Object(P.a)(t,e.breakpoints.up("md"),{cardContent:{fontSize:"13px"},cardDetailLink:{flexBasis:"145px",border:"1px solid white","&:hover":{border:"1px solid #2bd5c6",borderRadius:"5px"}}}),t})(function(e){var t=e.classes,a=e.card,n=e.handleClick;return r.a.createElement("div",{className:ye()(t.cardViewBox,t.cardDetailLink),onClick:function(){return n(a)}},r.a.createElement("img",{src:De.dmCardImageLink+a.setId+"-"+a.setNumber+".jpg",className:t.cardImage}),r.a.createElement("div",{className:t.cardContent},a.setId.toUpperCase()," - ",a.setNumber,r.a.createElement("br",null),a.name))}),xe=a(79),Ie=a.n(xe);var Pe=Object(s.withStyles)(function(e){return Object(P.a)({dialogTitle:{display:"flex",alignItems:"center"},cardImage:{width:"215px"},grow:{flexGrow:1},gridContainer:{display:"grid",gridGap:"10px",marginTop:"10px"},gridItemImgContainer:{textAlign:"center"},gridItemDetailContainer:{fontFamily:"Meiryo"},effectList:{listStyleType:"square"}},e.breakpoints.up("sm"),{gridContainer:{gridTemplateColumns:"auto auto"}})})(function(e){var t=e.classes,a=e.open,n=e.card,o=e.handleClose,i=e.deckAction;return null===n?null:r.a.createElement(N.c,{open:a,onClose:o},r.a.createElement(Ie.a,{disableTypography:!0,className:t.dialogTitle},r.a.createElement(M.a,{variant:"h6"},"Card Detail"),r.a.createElement("div",{className:t.grow}),i,r.a.createElement(N.n,{onClick:function(){return o()}},r.a.createElement(A.e,{color:"secondary"}))),r.a.createElement(N.e,null,r.a.createElement("div",{className:t.gridContainer},r.a.createElement("div",{className:t.gridItemImgContainer},r.a.createElement("img",{src:De.dmCardImageLink+n.setId+"-"+n.setNumber+".jpg",className:t.cardImage})),r.a.createElement("div",{className:t.gridItemDetailContainer},n.name," ",n.setId.toUpperCase()," ",n.setNumber,r.a.createElement("br",null),n.type," ",n.civilizations.map(function(e){return e})," \u30ec\u30a2\u30ea\u30c6\u30a3 ",n.rarityCd,r.a.createElement("br",null),"\u30b3\u30b9\u30c8 ",n.cost," \u30de\u30ca ",n.mana," \u30d1\u30ef\u30fc ",void 0!==n.power&&n.power,r.a.createElement("br",null),void 0!==n.races&&n.races.map(function(e){return e}),r.a.createElement(N.h,{light:!0}),r.a.createElement("ul",{className:t.effectList},n.effects.map(function(e,t){return r.a.createElement("li",{key:n.setNumber+t},e)}))))))}),je=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).editDeckName=function(e){var t=a.state.cachedDeck,n=Object(Ce.a)({},t);n.name=e,a.setState({cachedDeck:n})},a.removeCardFromDeck=function(e){var t=a.state.cachedDeck,n=Object(Ce.a)({},t);n.cards=t.cards.filter(function(t){return t!==e}),a.setState({cachedDeck:n}),a.handleDialogClose()},a.handleDialogOpen=function(e){a.setState({showCardDetailDialog:!0,card:e})},a.handleDialogClose=function(){a.setState({showCardDetailDialog:!1,card:null})},a.closeCreateDeckDialog=function(){a.setState({showDeckNameDialog:!1})},a.state={card:null,cachedDeck:null,showCardDetailDialog:!1,showDeckNameDialog:!1,showConfirmDialog:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location;(0,e.getPlayerDeck)(t.state.deckId)}},{key:"componentDidUpdate",value:function(){var e=this.state.cachedDeck,t=this.props.dmDeck;console.log(t),null===e&&void 0!==t&&this.setState({cachedDeck:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.apiCallStatus,i=(t.dmDeck,t.updatePlayerDecks),s=t.deletePlayerDeck,c=this.state,l=c.card,u=c.cachedDeck,d=c.showDeckNameDialog,m=c.showCardDetailDialog,h=c.showConfirmDialog;return null===u?null:r.a.createElement(n.Fragment,null,r.a.createElement(N.a,{position:"static",color:"default"},r.a.createElement(N.B,null,r.a.createElement(M.a,{variant:"h6",color:"textSecondary",className:a.gridTitle},u.name),r.a.createElement(N.n,{onClick:function(){return e.setState({showDeckNameDialog:!0})}},r.a.createElement(A.i,{color:"secondary"})),r.a.createElement("div",{className:a.grow}),r.a.createElement(N.n,null,r.a.createElement(A.k,{color:"secondary"})),r.a.createElement(N.n,null,r.a.createElement(A.r,{color:"secondary"})))),"started"===o&&r.a.createElement(N.r,null),r.a.createElement(te,null,u.cards.map(function(t,a){return r.a.createElement(Se,{key:t._id+a,card:t,handleClick:e.handleDialogOpen})})),r.a.createElement(N.j,{color:"primary",className:a.deleteFab,onClick:function(){return e.setState({showConfirmDialog:!0})}},r.a.createElement(A.g,null)),r.a.createElement(N.j,{color:"primary",className:a.saveFab,onClick:function(){i(u),e.props.history.push("/deckManager")}},r.a.createElement(A.p,null)),r.a.createElement(Pe,{open:m,card:l,handleClose:this.handleDialogClose,deckAction:r.a.createElement(N.n,{onClick:function(){return e.removeCardFromDeck(l)}},r.a.createElement(A.h,{color:"secondary"}))}),r.a.createElement(oe,{open:d,title:"Edit Deck Name",handleDeckName:this.editDeckName,closeDialog:this.closeCreateDeckDialog}),r.a.createElement(Y,{open:h,dialogTitle:"Delete Deck",dialogMessage:"Are you sure you want to delete this deck?",closeDialog:function(){return e.setState({showConfirmDialog:!1})},submitButtonText:"Delete",submitAction:function(){s(u._id),e.props.history.push("/deckManager")}}))}}]),t}(n.Component),Oe=Object(ee.b)(function(e){return{dmDeck:e.dmDeckList[0],apiCallStatus:e.uiEvents.apiCallStatus}},function(e){return{getPlayerDeck:function(t){e(fe(t))},updatePlayerDecks:function(t){e(function(e,t){var a={body:t};return function(t){return t(le()),v.API.put("Duel Masters API","playerDecks/"+e,a).then(function(e){console.log(e),t(ue())}).catch(function(e){console.log(e),de("Error while udpating deck")})}}(t._id,t))},deletePlayerDeck:function(t){e(function(e){return function(t){return t(le()),v.API.del("Duel Masters API","playerDecks/"+e).then(function(e){console.log(e),t(ue())}).catch(function(e){console.log(e),de("Error while deleting deck")})}}(t))}}})(Object(ve.a)(Object(s.withStyles)(function(e){return Object(P.a)({flexColumnBox:{display:"flex",flexFlow:"column",height:"100%"},gridWrapper:{height:"100%"},firstColumn:{display:"flex",flexFlow:"column"},secondColumn:{display:"grid"},grow:{flexGrow:1},gridTitle:{fontWeight:"bold"},saveFab:{position:"fixed",right:2*e.spacing.unit,bottom:2*e.spacing.unit},deleteFab:{position:"fixed",right:4*e.spacing.unit+56,bottom:2*e.spacing.unit}},e.breakpoints.up("lg"),{firstColumn:{gridTemplateRows:"auto"},secondColumn:{gridTemplateRows:"auto"}})})(je)));function Me(e){var t=e.split(/[0-9]/)[0],a=e.split(/^[a-zA-Z]+/)[1];return t.toLocaleUpperCase()+"-"+a}var Ne=Object(s.withStyles)(function(e){return Object(P.a)({productViewBox:{textAlign:"center",padding:"10px"},productContent:{fontFamily:"Meiryo",fontWeight:"bold",fontSize:"14px",marginTop:"5px"},productImage:{width:"100%",maxWidth:"150px",height:"auto"},cardGalleryLink:{textDecoration:"none",color:"black",flexBasis:"150px","&:hover":{color:"#2bd5c6"}}},e.breakpoints.up("md"),{cardGalleryLink:{flexBasis:"155px",border:"1px solid white","&:hover":{color:"#2bd5c6",border:"1px solid #2bd5c6",borderRadius:"5px"}}})})(function(e){var t=e.classes,a=e.product,n=e.productType;return console.log(a),console.log(n),r.a.createElement(z.a,{className:t.cardGalleryLink,to:{pathname:"/cardGallery",state:{action:"startDeck"===n?"getPlayerDeck":"getCardsBySetId",title:Me(a.setId)+" "+(void 0!==a.seriesName?a.seriesName+" ":"")+(void 0!==a.seriesNumber?a.seriesNumber+" ":"")+a.name,primaryId:"startDeck"===n?a._id:a.setId}}},r.a.createElement("div",{className:t.productViewBox},r.a.createElement("img",{src:De.cloudfrontImageLink+"products/"+a.setId+".jpg",className:t.productImage}),r.a.createElement("div",{className:t.productContent},Me(a.setId),r.a.createElement("br",null),void 0!==a.seriesName&&void 0!==a.seriesNumber?r.a.createElement("div",null,a.seriesName,"  ",a.seriesNumber):null,a.name)))}),Ae="RECEIVE_BOOSTER_PACK_LIST",Te="RECEIVE_STARTER_DECK_LIST";function Le(){return function(e){return e(le()),v.API.get("Duel Masters API","boosterPacks/").then(function(t){console.log(t),e(ue()),e({type:Ae,boosterPacks:t})}).catch(function(e){console.log(e)})}}function Ue(){return function(e){return e(le()),v.API.get("Duel Masters API","starterDecks/").then(function(t){console.log(t),e(ue()),e({type:Te,starterDecks:t})})}}var Fe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).getDmProduct=function(e){var t=a.props,n=t.getBoosterPack,r=t.getStarterDeck;switch(a.setState({productType:e}),e){case"boosterPack":n();break;case"startDeck":r()}},a.state={productType:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getDmProduct("boosterPack")}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.dmProductList,i=t.apiCallStatus;return r.a.createElement(n.Fragment,null,r.a.createElement(N.a,{position:"static",color:"default"},r.a.createElement(N.B,null,r.a.createElement(N.m,{container:!0,justify:"space-between",spacing:8},r.a.createElement(N.m,{item:!0,xs:12,sm:5,className:a.appBarButtonWrapper},r.a.createElement(N.b,{onClick:function(){return e.getDmProduct("boosterPack")}},"Booster Packs"),r.a.createElement(N.b,{onClick:function(){return e.getDmProduct("startDeck")}},"Start Decks"),r.a.createElement(N.b,null,"Promo Cards"))))),"started"===i&&r.a.createElement(N.r,null),r.a.createElement(te,null,o.map(function(t){return r.a.createElement(Ne,{key:t._id,product:t,productType:e.state.productType})})),r.a.createElement(N.j,{color:"primary",className:a.topFab},r.a.createElement(A.d,null)),r.a.createElement(N.j,{color:"primary",className:a.searchfab},r.a.createElement(A.q,null)))}}]),t}(n.Component),Be=Object(ee.b)(function(e){return{dmProductList:e.dmProductList,apiCallStatus:e.uiEvents.apiCallStatus}},function(e){return{getBoosterPack:function(){e(Le())},getStarterDeck:function(){e(Ue())}}})(Object(s.withStyles)(function(e){return{appBarButtonWrapper:{display:"grid",gridTemplateColumns:"auto auto auto"},searchfab:{position:"fixed",right:2*e.spacing.unit,bottom:2*e.spacing.unit},topFab:{position:"fixed",right:4*e.spacing.unit+56,bottom:2*e.spacing.unit}}})(Fe)),_e="RECEIVE_CARDS",Re="RESET_CARD_LIST";function Ve(){return{type:Re}}function We(e){return{type:_e,cards:e}}var Ge=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleDialogClose=function(){var e=a.props.handleClose;a.setState({deckId:"",quantity:0}),e()},a.submit=function(e,t){var n=a.props.insertCardsToDeck,r=a.state,o=r.deckId,i=r.quantity;console.log("Deck ID: "+o),console.log("set ID: "+e),console.log("set Number: "+t),console.log("Quantity: "+i),n(o,{setId:e,setNumber:t,quantity:i})},a.state={deckId:"",quantity:0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getPlayerDecks()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.open,o=t.card,i=t.handleClose,s=t.dmDeckList;t.apiCallStatus;return null===o?null:r.a.createElement(N.c,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:n,onExit:function(){return e.handleDialogClose()},"aria-labelledby":"form-dialog-title"},r.a.createElement(N.g,{id:"form-dialog-title"},"Insert Card to Deck"),r.a.createElement(N.e,null,r.a.createElement("div",{className:a.gridContainer},r.a.createElement("div",{className:a.gridItemImgContainer},r.a.createElement("img",{src:De.dmCardImageLink+o.setId+"-"+o.setNumber+".jpg",className:a.cardImage})),r.a.createElement("div",{className:a.gridItemDetailContainer},r.a.createElement(N.m,{container:!0,spacing:8},r.a.createElement(N.m,{item:!0,xs:8,sm:12},r.a.createElement(N.k,{className:a.formControl},r.a.createElement(N.q,{htmlFor:"deckId-dropdown"},"Deck"),r.a.createElement(N.z,{value:this.state.deckId,onChange:this.handleChange,inputProps:{name:"deckId",id:"deckId-dropdown"}},s.map(function(e){return r.a.createElement(N.x,{key:e._id,value:e._id},e.name)})))),r.a.createElement(N.m,{item:!0,xs:4,sm:12},r.a.createElement(N.k,{className:a.formControl},r.a.createElement(N.q,{htmlFor:"quantity-dropdown"},"Quantity"),r.a.createElement(N.z,{value:this.state.quantity,onChange:this.handleChange,inputProps:{name:"quantity",id:"quantity-dropdown"}},r.a.createElement(N.x,{value:1},"1"),r.a.createElement(N.x,{value:2},"2"),r.a.createElement(N.x,{value:3},"3"),r.a.createElement(N.x,{value:4},"4")))))))),r.a.createElement(N.d,null,r.a.createElement(N.b,{onClick:function(){return i()}},"Cancel"),r.a.createElement(N.b,{onClick:function(){e.submit(o.setId,o.setNumber),e.handleDialogClose()}},"Insert")))}}]),t}(n.Component),qe=Object(ee.b)(function(e){return{dmDeckList:e.dmDeckList,apiCallStatus:e.uiEvents.apiCallStatus}},function(e){return{getPlayerDecks:function(){e(Ee())},insertCardsToDeck:function(t,a){e(function(e,t){var a={body:t};return function(t){return t(le()),v.API.put("Duel Masters API","insertCards/"+e,a).then(function(e){console.log(e),t(ue())}).catch(function(e){console.log(e),de("Error while udpating deck")})}}(t,a))}}})(Object(s.withStyles)(function(e){return Object(P.a)({dialogTitle:{display:"flex",alignItems:"center"},cardImage:{width:"215px"},grow:{flexGrow:1},gridContainer:{display:"grid",gridGap:"10px",marginTop:"10px"},gridItemImgContainer:{textAlign:"center"},gridItemDetailContainer:{fontFamily:"Meiryo"},effectList:{listStyleType:"square"},formControl:{width:"100%"}},e.breakpoints.up("sm"),{gridContainer:{gridTemplateColumns:"auto auto"},gridItemDetailContainer:{width:"200px"}})})(Ge)),ze=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).handleDialogOpen=function(e){a.setState({showCardDetailDialog:!0,card:e})},a.handleCardDetailDialogClose=function(){a.setState({showCardDetailDialog:!1,card:null})},a.handleInsertCardDialogClose=function(){a.setState({showInsertCardDialog:!1,card:null})},a.state={card:null,showCardDetailDialog:!1,showInsertCardDialog:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location;switch(e.state.action){case"getCardsBySetId":this.props.getCardsBySetId(e.state.primaryId);break;case"getPlayerDeck":this.props.getCardsByDeckId(e.state.primaryId)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.location,i=t.apiCallStatus,s=t.dmCardList,c=this.state,l=c.showCardDetailDialog,u=c.showInsertCardDialog,d=c.card;return r.a.createElement(n.Fragment,null,r.a.createElement(N.a,{position:"static",color:"default"},r.a.createElement(N.B,null,r.a.createElement(M.a,{variant:"h6",color:"textSecondary",className:ye()(a.grow,a.gridTitle)},o.state.title),r.a.createElement(N.n,null,r.a.createElement(A.k,{color:"secondary"})),r.a.createElement(N.n,null,r.a.createElement(A.r,{color:"secondary"})))),"started"===i&&r.a.createElement(N.r,null),r.a.createElement(te,null,s.map(function(t){return r.a.createElement(Se,{key:t._id,card:t,handleClick:e.handleDialogOpen})})),r.a.createElement(N.j,{color:"primary",className:a.topFab,onClick:function(){return window.scrollTo(0,0)}},r.a.createElement(A.d,null)),r.a.createElement(Pe,{open:l,card:d,handleClose:this.handleCardDetailDialogClose,deckAction:r.a.createElement(N.n,{onClick:function(){return e.setState({showInsertCardDialog:!0,showCardDetailDialog:!1})}},r.a.createElement(A.c,{color:"secondary"}))}),r.a.createElement(qe,{open:u,card:d,handleClose:this.handleInsertCardDialogClose}))}}]),t}(n.Component),Ke=Object(ee.b)(function(e){return{dmCardList:e.dmCardList,apiCallStatus:e.uiEvents.apiCallStatus}},function(e){return{getCardsBySetId:function(t){e(function(e){return function(t){return t(le()),t(Ve()),v.API.get("Duel Masters API","cards/"+e).then(function(e){console.log(e),t(ue()),t(We(e))}).catch(function(e){console.log(e)})}}(t))},getCardsByDeckId:function(t){e(function(e){return function(t){return t(le()),t(Ve()),v.API.get("Duel Masters API","playerDecks/"+e).then(function(e){t(ue()),t(We(e[0].cards))}).catch(function(e){console.log(e)})}}(t))}}})(Object(ve.a)(Object(s.withStyles)(function(e){return Object(P.a)({flexColumnBox:{display:"flex",flexFlow:"column",height:"100%"},gridWrapper:{height:"100%"},firstColumn:{display:"flex",flexFlow:"column"},secondColumn:{display:"grid"},grow:{flexGrow:1},gridTitle:{fontWeight:"bold"},topFab:{position:"fixed",right:2*e.spacing.unit,bottom:2*e.spacing.unit}},e.breakpoints.up("lg"),{firstColumn:{gridTemplateRows:"auto"},secondColumn:{gridTemplateRows:"auto"}})})(ze)));var He=function(){return r.a.createElement(c.a,{basename:"/duel_masters_deck_maker"},r.a.createElement(l.a,null,r.a.createElement(u.a,{path:"/auth",component:W}),r.a.createElement(X,{exact:!0,path:"/",component:we,titleId:"titleDeckManager"}),r.a.createElement(X,{path:"/deckManager",component:we,titleId:"titleDeckManager"}),r.a.createElement(X,{path:"/deckEditor",component:Oe,titleId:"titleDeckEditor"}),r.a.createElement(X,{path:"/productGallery",component:Be,titleId:"titleProductGallery"}),r.a.createElement(X,{path:"/cardGallery",component:Ke,titleId:"titleCardGallery"})))},Je=a(44),Ye=a(276),Qe=a.n(Ye),Ze=a(277),$e=a.n(Ze),Xe=a(278),et=a.n(Xe),tt=a(103),at=a(279),nt=a(280),rt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).changeLanguage=function(e){switch(document.getElementsByTagName("html")[0].setAttribute("lang",e),e){case"en":a.setState({locale:e,messages:tt});break;case"zh":a.setState({locale:e,messages:at});break;case"ja":a.setState({locale:e,messages:nt});break;default:a.setState({locale:e,messages:tt})}},Object(j.c)([].concat(Object(Je.a)(Qe.a),Object(Je.a)(et.a),Object(Je.a)($e.a))),a.state={locale:"en",messages:tt},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(j.b,{locale:this.state.locale,messages:this.state.messages},r.a.cloneElement(this.props.children,{changeLanguage:this.changeLanguage}))}}]),t}(n.Component),ot=a(281),it=a(54),st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];switch((arguments.length>1?arguments[1]:void 0).type){case"INSERT_PUBLIC_SHARE_DECK_LIST":return Object(Je.a)(e);default:return e}},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];switch((arguments.length>1?arguments[1]:void 0).type){case"INSERT_PRIVATE_SHARE_DECK_LIST":return Object(Je.a)(e);default:return e}},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];switch((arguments.length>1?arguments[1]:void 0).type){case"INSERT_RECOMMEND_DECK_LIST":return Object(Je.a)(e);default:return e}},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return t.boosterPacks;case Te:return t.starterDecks;default:return e}},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(Ce.a)({},e,{apiCallStatus:"started"});case se:return Object(Ce.a)({},e,{apiCallStatus:"finished"});case ce:return Object(Ce.a)({},e,{apiCallStatus:"error",deckAPIErrMsg:t.message});default:return e}},mt=Object(it.c)({publicSharedDecks:st,privateSharedDecks:ct,recommendDecks:lt,dmProductList:ut,dmCardList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return t.cards;case Re:return[];default:return e}},dmDeckList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return t.decks;case he:return t.deck;case ge:return[];default:return e}},uiEvents:dt});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ht=a(282),gt=Object(s.createMuiTheme)(ht),pt=Object(it.d)(mt,Object(it.a)(ot.a));i.a.render(r.a.createElement(s.MuiThemeProvider,{theme:gt},r.a.createElement(ee.a,{store:pt},r.a.createElement(rt,null,r.a.createElement(He,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5543,2,1]]]);
//# sourceMappingURL=main.fbaba12f.chunk.js.map